{"ast":null,"code":"// frontend/src/pages/Register.js\nimport React,{useState}from'react';import{Container,Paper,TextField,Button,Typography,Box}from'@mui/material';import{useNavigate}from'react-router-dom';import apiService from'../services/apiService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){const navigate=useNavigate();const[formData,setFormData]=useState({username:'',email:'',password:'',age:''});const[error,setError]=useState('');const[isLoading,setIsLoading]=useState(false);const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();setError('');setIsLoading(true);try{const data=await apiService.register(formData);localStorage.setItem('token',data.token);navigate('/books');}catch(err){setError(err.message||'Registration failed. Please try again.');}finally{setIsLoading(false);}};return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",children:/*#__PURE__*/_jsx(Box,{sx:{mt:8},children:/*#__PURE__*/_jsxs(Paper,{sx:{p:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:\"Create Account\"}),error&&/*#__PURE__*/_jsx(Typography,{color:\"error\",sx:{mb:2},children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Username\",name:\"username\",value:formData.username,onChange:handleChange,margin:\"normal\",required:true,disabled:isLoading}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Email\",name:\"email\",type:\"email\",value:formData.email,onChange:handleChange,margin:\"normal\",required:true,disabled:isLoading}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Password\",name:\"password\",type:\"password\",value:formData.password,onChange:handleChange,margin:\"normal\",required:true,disabled:isLoading}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Age\",name:\"age\",type:\"number\",value:formData.age,onChange:handleChange,margin:\"normal\",required:true,inputProps:{min:8,max:200},disabled:isLoading}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",sx:{mt:3},disabled:isLoading,children:isLoading?'Creating Account...':'Register'}),/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"text\",onClick:()=>navigate('/login'),sx:{mt:1},disabled:isLoading,children:\"Already have an account? Login\"})]})]})})});}export default Register;","map":{"version":3,"names":["React","useState","Container","Paper","TextField","Button","Typography","Box","useNavigate","apiService","jsx","_jsx","jsxs","_jsxs","Register","navigate","formData","setFormData","username","email","password","age","error","setError","isLoading","setIsLoading","handleChange","e","target","name","value","handleSubmit","preventDefault","data","register","localStorage","setItem","token","err","message","maxWidth","children","sx","mt","p","variant","component","gutterBottom","color","mb","onSubmit","fullWidth","label","onChange","margin","required","disabled","type","inputProps","min","max","onClick"],"sources":["/Users/BrooksCole/Documents/reading-community/frontend/src/pages/Register.js"],"sourcesContent":["// frontend/src/pages/Register.js\nimport React, { useState } from 'react';\nimport { Container, Paper, TextField, Button, Typography, Box } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport apiService from '../services/apiService';\n\nfunction Register() {\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',     \n    password: '',\n    age: ''\n  });\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setIsLoading(true);\n    \n    try {\n      const data = await apiService.register(formData);\n      localStorage.setItem('token', data.token);\n      navigate('/books');\n    } catch (err) {\n      setError(err.message || 'Registration failed. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Box sx={{ mt: 8 }}>\n        <Paper sx={{ p: 4 }}>\n          <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n            Create Account\n          </Typography>\n          {error && (\n            <Typography color=\"error\" sx={{ mb: 2 }}>\n              {error}\n            </Typography>\n          )}\n          <form onSubmit={handleSubmit}>\n            <TextField\n              fullWidth\n              label=\"Username\"\n              name=\"username\"\n              value={formData.username}\n              onChange={handleChange}\n              margin=\"normal\"\n              required\n              disabled={isLoading}\n            />\n            <TextField\n              fullWidth\n              label=\"Email\"\n              name=\"email\"\n              type=\"email\"\n              value={formData.email}\n              onChange={handleChange}\n              margin=\"normal\"\n              required\n              disabled={isLoading}\n            />\n            <TextField\n              fullWidth\n              label=\"Password\"\n              name=\"password\"\n              type=\"password\"\n              value={formData.password}\n              onChange={handleChange}\n              margin=\"normal\"\n              required\n              disabled={isLoading}\n            />\n            <TextField\n              fullWidth\n              label=\"Age\"\n              name=\"age\"\n              type=\"number\"\n              value={formData.age}\n              onChange={handleChange}\n              margin=\"normal\"\n              required\n              inputProps={{ min: 8, max: 200 }}\n              disabled={isLoading}\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              sx={{ mt: 3 }}\n              disabled={isLoading}\n            >\n              {isLoading ? 'Creating Account...' : 'Register'}\n            </Button>\n            <Button\n              fullWidth\n              variant=\"text\"\n              onClick={() => navigate('/login')}\n              sx={{ mt: 1 }}\n              disabled={isLoading}\n            >\n              Already have an account? Login\n            </Button>\n          </form>\n        </Paper>\n      </Box>\n    </Container>\n  );\n}\n\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}