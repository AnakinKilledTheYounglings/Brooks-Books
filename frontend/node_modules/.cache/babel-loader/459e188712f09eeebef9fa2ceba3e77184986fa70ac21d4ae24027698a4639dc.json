{"ast":null,"code":"var _jsxFileName = \"/Users/BrooksCole/Documents/reading-community/frontend/src/pages/BookDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Container, Typography, Box, Paper, Grid, Chip, CircularProgress } from '@mui/material';\nimport DrawingCard from '../components/DrawingCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BookDetail() {\n  _s();\n  var _book$genres, _book$drawings, _book$drawings2;\n  const {\n    bookId\n  } = useParams();\n  const [book, setBook] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const fetchBookDetails = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(`http://localhost:3001/api/books/${bookId}`);\n      if (!response.ok) {\n        throw new Error('Book not found');\n      }\n      const data = await response.json();\n      setBook(data);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchBookDetails();\n  }, [bookId]); // Add bookId as dependency\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      sx: {\n        mt: 4,\n        display: 'flex',\n        justifyContent: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      sx: {\n        mt: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  }\n  if (!book) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      sx: {\n        mt: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        children: \"Book not found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    sx: {\n      mt: 4\n    },\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      sx: {\n        p: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        children: book.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        color: \"textSecondary\",\n        gutterBottom: true,\n        children: [\"by \", book.author]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          my: 2\n        },\n        children: (_book$genres = book.genres) === null || _book$genres === void 0 ? void 0 : _book$genres.map(genre => /*#__PURE__*/_jsxDEV(Chip, {\n          label: genre,\n          sx: {\n            mr: 1,\n            mb: 1\n          },\n          variant: \"outlined\"\n        }, genre, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        paragraph: true,\n        children: book.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        sx: {\n          mt: 4,\n          mb: 2\n        },\n        children: \"Drawings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        children: [(_book$drawings = book.drawings) === null || _book$drawings === void 0 ? void 0 : _book$drawings.map((drawing, index) => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(DrawingCard, {\n            drawing: drawing,\n            bookId: book._id,\n            onLikeUpdate: fetchBookDetails // Now this will work\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)), !((_book$drawings2 = book.drawings) !== null && _book$drawings2 !== void 0 && _book$drawings2.length) && /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            color: \"textSecondary\",\n            children: \"No drawings yet for this book.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_s(BookDetail, \"z0XwnVt7HpRZYaqvFqWhbonrYNI=\", false, function () {\n  return [useParams];\n});\n_c = BookDetail;\nexport default BookDetail;\nvar _c;\n$RefreshReg$(_c, \"BookDetail\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Container","Typography","Box","Paper","Grid","Chip","CircularProgress","DrawingCard","jsxDEV","_jsxDEV","BookDetail","_s","_book$genres","_book$drawings","_book$drawings2","bookId","book","setBook","loading","setLoading","error","setError","fetchBookDetails","response","fetch","ok","Error","data","json","err","message","sx","mt","display","justifyContent","children","fileName","_jsxFileName","lineNumber","columnNumber","color","maxWidth","elevation","p","variant","gutterBottom","title","author","my","genres","map","genre","label","mr","mb","paragraph","description","container","spacing","drawings","drawing","index","item","xs","md","_id","onLikeUpdate","length","_c","$RefreshReg$"],"sources":["/Users/BrooksCole/Documents/reading-community/frontend/src/pages/BookDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { \n  Container, \n  Typography, \n  Box, \n  Paper,\n  Grid,\n  Chip,\n  CircularProgress\n} from '@mui/material';\nimport DrawingCard from '../components/DrawingCard';\n\nfunction BookDetail() {\n  const { bookId } = useParams();\n  const [book, setBook] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchBookDetails = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(`http://localhost:3001/api/books/${bookId}`);\n      if (!response.ok) {\n        throw new Error('Book not found');\n      }\n      const data = await response.json();\n      setBook(data);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchBookDetails();\n  }, [bookId]); // Add bookId as dependency\n\n  if (loading) {\n    return (\n      <Container sx={{ mt: 4, display: 'flex', justifyContent: 'center' }}>\n        <CircularProgress />\n      </Container>\n    );\n  }\n\n  if (error) {\n    return (\n      <Container sx={{ mt: 4 }}>\n        <Typography color=\"error\">{error}</Typography>\n      </Container>\n    );\n  }\n\n  if (!book) {\n    return (\n      <Container sx={{ mt: 4 }}>\n        <Typography>Book not found</Typography>\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"lg\" sx={{ mt: 4 }}>\n      <Paper elevation={3} sx={{ p: 3 }}>\n        <Typography variant=\"h4\" gutterBottom>\n          {book.title}\n        </Typography>\n        <Typography variant=\"h6\" color=\"textSecondary\" gutterBottom>\n          by {book.author}\n        </Typography>\n\n        <Box sx={{ my: 2 }}>\n          {book.genres?.map((genre) => (\n            <Chip\n              key={genre}\n              label={genre}\n              sx={{ mr: 1, mb: 1 }}\n              variant=\"outlined\"\n            />\n          ))}\n        </Box>\n\n        <Typography variant=\"body1\" paragraph>\n          {book.description}\n        </Typography>\n\n        <Typography variant=\"h6\" sx={{ mt: 4, mb: 2 }}>\n          Drawings\n        </Typography>\n        <Grid container spacing={2}>\n          {book.drawings?.map((drawing, index) => (\n            <Grid item xs={12} md={6} key={index}>\n              <DrawingCard\n                drawing={drawing}\n                bookId={book._id}\n                onLikeUpdate={fetchBookDetails} // Now this will work\n              />\n            </Grid>\n          ))}\n          {!book.drawings?.length && (\n            <Grid item xs={12}>\n              <Typography color=\"textSecondary\">\n                No drawings yet for this book.\n              </Typography>\n            </Grid>\n          )}\n        </Grid>\n      </Paper>\n    </Container>\n  );\n}\n\nexport default BookDetail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}