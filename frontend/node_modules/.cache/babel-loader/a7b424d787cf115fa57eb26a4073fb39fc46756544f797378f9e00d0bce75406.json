{"ast":null,"code":"// frontend/src/pages/AdminDashboard.js\nimport React,{useState,useEffect,useCallback}from'react';import{Container,Typography,Box,Card,CardContent,Button,TextField,Grid,Tab,Tabs,IconButton,Chip,Dialog//DialogTitle,\n//DialogContent,\n//DialogActions,\n}from'@mui/material';import{Delete,Edit,Add,CloudUpload}from'@mui/icons-material';import{GENRES}from'../constants/bookConstants';import BulkUpload from'../components/BulkUpload';import VocabularyManagement from'../components/VocabularyManagement';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function AdminDashboard(){const[activeTab,setActiveTab]=useState(0);const[books,setBooks]=useState([]);const[openBookDialog,setOpenBookDialog]=useState(false);const[selectedBook,setSelectedBook]=useState(null);const[bookFormData,setBookFormData]=useState({title:'',author:'',description:'',genres:[],tags:[],tagInput:'',ageRange:{min:8,max:15}});const[stats,setStats]=useState({totalBooks:0,totalDrawings:0,activeUsers:0});// First, make fetchBooks a useCallback\nconst fetchBooks=useCallback(async()=>{try{//console.log('Fetching books...');\nconst response=await fetch('http://localhost:3001/api/books');const data=await response.json();//console.log('Books fetched:', data);\nsetBooks(data);//setLoading(false);\n}catch(error){console.error('Error fetching books:',error);//setError('Failed to load books');\n//setLoading(false);\n}},[]);// Empty dependency array since it doesn't depend on state\nconst fetchStats=useCallback(async()=>{try{// Calculate stats from books data\nconst statsData={totalBooks:books.length,totalDrawings:books.reduce((sum,book)=>{var _book$drawings;return sum+(((_book$drawings=book.drawings)===null||_book$drawings===void 0?void 0:_book$drawings.length)||0);},0),activeUsers:new Set(books.flatMap(book=>(book.drawings||[]).map(drawing=>drawing.userId))).size,booksPerAgeGroup:books.reduce((acc,book)=>{const range=`${book.ageRange.min}-${book.ageRange.max}`;acc[range]=(acc[range]||0)+1;return acc;},{})};setStats(statsData);console.log('Updated stats:',statsData);// Debug log\n}catch(error){console.error('Error calculating stats:',error);}},[books]);// Make sure this useEffect is present\nuseEffect(()=>{fetchStats();},[books,fetchStats]);useEffect(()=>{console.log('Starting to fetch books');fetchBooks();},[fetchBooks]);const handleBookSubmit=async e=>{e.preventDefault();try{const token=localStorage.getItem('token');console.log('Auth token:',token);console.log('Selected book:',selectedBook);// Ensure bookFormData.tags is an array\nconst existingTags=Array.isArray(bookFormData.tags)?bookFormData.tags:[];// Process the new tags\nconst newTags=bookFormData.tagInput?bookFormData.tagInput.split(',').map(tag=>tag.trim()).filter(tag=>tag):[];// Combine existing and new tags, remove duplicates\nconst allTags=[...new Set([...existingTags,...newTags])];const dataToSend={...bookFormData,tags:allTags};delete dataToSend.tagInput;const url=selectedBook?`http://localhost:3001/api/books/${selectedBook._id}`:'http://localhost:3001/api/books';const method=selectedBook?'PUT':'POST';console.log('Sending request:',{url,method,data:dataToSend});// Before the fetch\nconsole.log('About to send:',{url,method,headers:{'Content-Type':'application/json','Authorization':`Bearer ${localStorage.getItem('token')}`},body:dataToSend});const response=await fetch(url,{method:method,headers:{'Content-Type':'application/json','Authorization':`Bearer ${localStorage.getItem('token')}`},body:JSON.stringify(dataToSend)});if(!response.ok){const text=await response.text();console.error('Server response:',text);throw new Error(`Server error: ${text}`);}const data=await response.json();console.log('Success response:',data);console.log('Response status:',response.status);console.log('Response headers:',[...response.headers.entries()]);setOpenBookDialog(false);fetchBooks();setSelectedBook(null);setBookFormData({title:'',author:'',description:'',genres:[],tags:[],tagInput:'',ageRange:{min:8,max:15}});}catch(error){console.error('Error saving book:',error);alert('Failed to save book: '+error.message);}};// In your AdminDashboard.js, update the handleBookSubmit function:\n// Add genre field to the dialog form:\n/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Genre\",value:bookFormData.genre||'',onChange:e=>setBookFormData({...bookFormData,genre:e.target.value}),margin:\"normal\"});const handleDeleteBook=async bookId=>{if(window.confirm('Are you sure you want to delete this book?')){try{const response=await fetch(`http://localhost:3001/api/books/${bookId}`,{method:'DELETE',headers:{'Authorization':`Bearer ${localStorage.getItem('token')}`}});if(response.ok){fetchBooks();}}catch(error){console.error('Error deleting book:',error);}}};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",sx:{mt:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Admin Dashboard\"}),/*#__PURE__*/_jsxs(Tabs,{value:activeTab,onChange:(e,newValue)=>setActiveTab(newValue),sx:{mb:4},children:[/*#__PURE__*/_jsx(Tab,{label:\"Books Management\"}),/*#__PURE__*/_jsx(Tab,{label:\"Statistics\"}),/*#__PURE__*/_jsx(Tab,{label:\"Content Moderation\"}),/*#__PURE__*/_jsx(Tab,{label:\"Vocabulary Management\"}),\" \",/*#__PURE__*/_jsx(Tab,{label:\"Bulk Upload\"})]}),activeTab===0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Box,{sx:{mb:3},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(Add,{}),onClick:()=>{setSelectedBook(null);setBookFormData({title:'',author:'',description:'',ageRange:{min:8,max:15}});setOpenBookDialog(true);},children:\"Add New Book\"})}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,children:books.map(book=>{var _book$drawings2;return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'start'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:book.title}),/*#__PURE__*/_jsx(Typography,{color:\"textSecondary\",children:book.author}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{mt:1},children:[\"Age Range: \",book.ageRange.min,\"-\",book.ageRange.max]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[\"Drawings: \",((_book$drawings2=book.drawings)===null||_book$drawings2===void 0?void 0:_book$drawings2.length)||0]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(IconButton,{onClick:()=>{setSelectedBook(book);setBookFormData({title:book.title,author:book.author,description:book.description,genres:book.genres||[],tags:book.tags||[],ageRange:book.ageRange});setOpenBookDialog(true);},children:/*#__PURE__*/_jsx(Edit,{})}),/*#__PURE__*/_jsx(IconButton,{onClick:()=>handleDeleteBook(book._id),color:\"error\",children:/*#__PURE__*/_jsx(Delete,{})})]})]})})})},book._id);})})]}),activeTab===1&&/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Platform Statistics\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{color:\"textSecondary\",gutterBottom:true,children:\"Total Books\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:stats.totalBooks})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{color:\"textSecondary\",gutterBottom:true,children:\"Total Drawings\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:stats.totalDrawings})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{color:\"textSecondary\",gutterBottom:true,children:\"Active Users\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:stats.activeUsers})]})})})]}),/*#__PURE__*/_jsx(Box,{sx:{mt:4},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:async()=>{try{console.log('Starting sync request...');const response=await fetch('http://localhost:3001/api/recommendations/sync',{method:'POST',headers:{'Authorization':`Bearer ${localStorage.getItem('token')}`}});const data=await response.json();console.log('Sync response:',data);if(response.ok){alert('Successfully synced books to graph database');}else{throw new Error(data.details||data.error||'Failed to sync');}}catch(error){console.error('Sync error:',error);alert(`Failed to sync books to graph database: ${error.message}`);}},children:\"Sync Books to Graph Database\"})})]}),activeTab===2&&/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Content Moderation\"})}),activeTab===3&&/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Vocabulary Management\"}),/*#__PURE__*/_jsx(VocabularyManagement,{})]}),activeTab===4&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(BulkUpload,{})}),/*#__PURE__*/_jsx(Dialog,{open:openBookDialog,onClose:()=>setOpenBookDialog(false),maxWidth:\"sm\",fullWidth:true,children:/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleBookSubmit,sx:{p:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:selectedBook?'Edit Book':'Add New Book'}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Title\",value:bookFormData.title,onChange:e=>setBookFormData({...bookFormData,title:e.target.value}),margin:\"normal\",required:true}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Author\",value:bookFormData.author,onChange:e=>setBookFormData({...bookFormData,author:e.target.value}),margin:\"normal\",required:true}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Description\",value:bookFormData.description,onChange:e=>setBookFormData({...bookFormData,description:e.target.value}),margin:\"normal\",multiline:true,rows:3}),/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",gutterBottom:true,children:\"Genres\"}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',gap:1,flexWrap:'wrap'},children:GENRES.map(genre=>{var _bookFormData$genres,_bookFormData$genres2;return/*#__PURE__*/_jsx(Chip,{label:genre,onClick:()=>{const currentGenres=bookFormData.genres||[];if(currentGenres.includes(genre)){setBookFormData({...bookFormData,genres:currentGenres.filter(g=>g!==genre)});}else{setBookFormData({...bookFormData,genres:[...currentGenres,genre]});}},color:(_bookFormData$genres=bookFormData.genres)!==null&&_bookFormData$genres!==void 0&&_bookFormData$genres.includes(genre)?\"primary\":\"default\",variant:(_bookFormData$genres2=bookFormData.genres)!==null&&_bookFormData$genres2!==void 0&&_bookFormData$genres2.includes(genre)?\"filled\":\"outlined\"},genre);})})]}),/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",gutterBottom:true,children:\"Tags\"}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Add tags (comma-separated)\",value:bookFormData.tagInput||'',onChange:e=>{setBookFormData({...bookFormData,tagInput:e.target.value});},helperText:\"Enter new tags separated by commas, they will be added when you save\"}),bookFormData.tags&&bookFormData.tags.length>0&&/*#__PURE__*/_jsx(Box,{sx:{mt:1,display:'flex',gap:0.5,flexWrap:'wrap'},children:bookFormData.tags.map((tag,index)=>/*#__PURE__*/_jsx(Chip,{label:tag,onDelete:()=>{setBookFormData({...bookFormData,tags:bookFormData.tags.filter((_,i)=>i!==index)});},size:\"small\"},index))})]}),/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",gutterBottom:true,children:\"Age Range\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Min Age\",type:\"number\",value:bookFormData.ageRange.min,onChange:e=>setBookFormData({...bookFormData,ageRange:{...bookFormData.ageRange,min:parseInt(e.target.value)}})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Max Age\",type:\"number\",value:bookFormData.ageRange.max,onChange:e=>setBookFormData({...bookFormData,ageRange:{...bookFormData.ageRange,max:parseInt(e.target.value)}})})})]})]}),/*#__PURE__*/_jsxs(Box,{sx:{mt:3,display:'flex',justifyContent:'flex-end',gap:2},children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setOpenBookDialog(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",children:selectedBook?'Save Changes':'Add Book'})]})]})})]});}// Bottom: export\nexport default AdminDashboard;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Container","Typography","Box","Card","CardContent","Button","TextField","Grid","Tab","Tabs","IconButton","Chip","Dialog","Delete","Edit","Add","CloudUpload","GENRES","BulkUpload","VocabularyManagement","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminDashboard","activeTab","setActiveTab","books","setBooks","openBookDialog","setOpenBookDialog","selectedBook","setSelectedBook","bookFormData","setBookFormData","title","author","description","genres","tags","tagInput","ageRange","min","max","stats","setStats","totalBooks","totalDrawings","activeUsers","fetchBooks","response","fetch","data","json","error","console","fetchStats","statsData","length","reduce","sum","book","_book$drawings","drawings","Set","flatMap","map","drawing","userId","size","booksPerAgeGroup","acc","range","log","handleBookSubmit","e","preventDefault","token","localStorage","getItem","existingTags","Array","isArray","newTags","split","tag","trim","filter","allTags","dataToSend","url","_id","method","headers","body","JSON","stringify","ok","text","Error","status","entries","alert","message","fullWidth","label","value","genre","onChange","target","margin","handleDeleteBook","bookId","window","confirm","maxWidth","sx","mt","children","variant","gutterBottom","newValue","mb","startIcon","onClick","container","spacing","_book$drawings2","item","xs","md","display","justifyContent","alignItems","color","details","open","onClose","component","onSubmit","p","required","multiline","rows","gap","flexWrap","_bookFormData$genres","_bookFormData$genres2","currentGenres","includes","g","helperText","index","onDelete","_","i","type","parseInt"],"sources":["/Users/BrooksCole/Documents/reading-community/frontend/src/pages/AdminDashboard.js"],"sourcesContent":["// frontend/src/pages/AdminDashboard.js\nimport React, { useState, useEffect, useCallback } from 'react';\nimport {\n  Container,\n  Typography,\n  Box,\n  Card,\n  CardContent,\n  Button,\n  TextField,\n  Grid,\n  Tab,\n  Tabs,\n  IconButton,\n  Chip,\n  Dialog,\n  //DialogTitle,\n  //DialogContent,\n  //DialogActions,\n} from '@mui/material';\nimport { Delete, Edit, Add, CloudUpload, } from '@mui/icons-material';\nimport { GENRES } from '../constants/bookConstants';\nimport BulkUpload from '../components/BulkUpload';\n\nimport VocabularyManagement from '../components/VocabularyManagement';\n\nfunction AdminDashboard() {\n  const [activeTab, setActiveTab] = useState(0);\n  const [books, setBooks] = useState([]);\n  const [openBookDialog, setOpenBookDialog] = useState(false);\n  const [selectedBook, setSelectedBook] = useState(null);\n  const [bookFormData, setBookFormData] = useState({\n    title: '',\n    author: '',\n    description: '',\n    genres: [],\n    tags: [],\n    tagInput: '',\n    ageRange: { min: 8, max: 15 }\n  });\n  const [stats, setStats] = useState({\n    totalBooks: 0,\n    totalDrawings: 0,\n    activeUsers: 0\n  });\n\n  // First, make fetchBooks a useCallback\n  const fetchBooks = useCallback(async () => {\n    try {\n      //console.log('Fetching books...');\n      const response = await fetch('http://localhost:3001/api/books');\n      const data = await response.json();\n      //console.log('Books fetched:', data);\n      setBooks(data);\n      //setLoading(false);\n    } catch (error) {\n      console.error('Error fetching books:', error);\n      //setError('Failed to load books');\n      //setLoading(false);\n    }\n  }, []); // Empty dependency array since it doesn't depend on state\n  \n  \n    const fetchStats = useCallback(async () => {\n      try {\n        // Calculate stats from books data\n        const statsData = {\n          totalBooks: books.length,\n          totalDrawings: books.reduce((sum, book) => sum + (book.drawings?.length || 0), 0),\n          activeUsers: new Set(books.flatMap(book => \n            (book.drawings || []).map(drawing => drawing.userId)\n          )).size,\n          booksPerAgeGroup: books.reduce((acc, book) => {\n            const range = `${book.ageRange.min}-${book.ageRange.max}`;\n            acc[range] = (acc[range] || 0) + 1;\n            return acc;\n          }, {})\n        };\n        \n        setStats(statsData);\n        console.log('Updated stats:', statsData); // Debug log\n      } catch (error) {\n        console.error('Error calculating stats:', error);\n      }\n    }, [books]);\n  \n  \n    // Make sure this useEffect is present\n    useEffect(() => {\n      fetchStats();\n    }, [books, fetchStats]);\n    useEffect(() => {\n          console.log('Starting to fetch books');\n          fetchBooks();\n        }, [fetchBooks]);\n  \n    const handleBookSubmit = async (e) => {\n      e.preventDefault();\n      try {\n        const token = localStorage.getItem('token');\n        console.log('Auth token:', token);\n        console.log('Selected book:', selectedBook);\n    \n        // Ensure bookFormData.tags is an array\n        const existingTags = Array.isArray(bookFormData.tags) ? bookFormData.tags : [];\n    \n        // Process the new tags\n        const newTags = bookFormData.tagInput\n          ? bookFormData.tagInput.split(',').map(tag => tag.trim()).filter(tag => tag)\n          : [];\n    \n        // Combine existing and new tags, remove duplicates\n        const allTags = [...new Set([...existingTags, ...newTags])];\n    \n        const dataToSend = {\n          ...bookFormData,\n          tags: allTags\n        };\n        delete dataToSend.tagInput;\n    \n        const url = selectedBook\n          ? `http://localhost:3001/api/books/${selectedBook._id}`\n          : 'http://localhost:3001/api/books';\n    \n        const method = selectedBook ? 'PUT' : 'POST';\n        console.log('Sending request:', {\n          url,\n          method,\n          data: dataToSend\n        });\n\n        // Before the fetch\n        console.log('About to send:', {\n          url,\n          method,\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          },\n          body: dataToSend\n        });\n        \n        const response = await fetch(url, {\n          method: method,\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          },\n          body: JSON.stringify(dataToSend)\n        });\n    \n    \n        if (!response.ok) {\n          const text = await response.text();\n          console.error('Server response:', text);\n          throw new Error(`Server error: ${text}`);\n        }\n    \n        const data = await response.json();\n        console.log('Success response:', data);\n\n        console.log('Response status:', response.status);\n        console.log('Response headers:', [...response.headers.entries()]);\n    \n        setOpenBookDialog(false);\n        fetchBooks();\n        setSelectedBook(null);\n        setBookFormData({\n          title: '',\n          author: '',\n          description: '',\n          genres: [],\n          tags: [],\n          tagInput: '',\n          ageRange: { min: 8, max: 15 }\n        });\n      } catch (error) {\n        console.error('Error saving book:', error);\n        alert('Failed to save book: ' + error.message);\n      }\n    };\n\n\n  // In your AdminDashboard.js, update the handleBookSubmit function:\n  \n  \n  // Add genre field to the dialog form:\n  <TextField\n    fullWidth\n    label=\"Genre\"\n    value={bookFormData.genre || ''}\n    onChange={(e) => setBookFormData({ ...bookFormData, genre: e.target.value })}\n    margin=\"normal\"\n  />\n\n  const handleDeleteBook = async (bookId) => {\n    if (window.confirm('Are you sure you want to delete this book?')) {\n      try {\n        const response = await fetch(`http://localhost:3001/api/books/${bookId}`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n\n        if (response.ok) {\n          fetchBooks();\n        }\n      } catch (error) {\n        console.error('Error deleting book:', error);\n      }\n    }\n  };\n\n  return (\n    <Container maxWidth=\"lg\" sx={{ mt: 4 }}>\n      <Typography variant=\"h4\" gutterBottom>\n        Admin Dashboard\n      </Typography>\n\n      <Tabs value={activeTab} onChange={(e, newValue) => setActiveTab(newValue)} sx={{ mb: 4 }}>\n        <Tab label=\"Books Management\" />\n        <Tab label=\"Statistics\" />\n        <Tab label=\"Content Moderation\" />\n        <Tab label=\"Vocabulary Management\" /> {/* Add this new tab */}\n        <Tab label=\"Bulk Upload\" /> \n      </Tabs>\n\n      {activeTab === 0 && (\n        <>\n          <Box sx={{ mb: 3 }}>\n            <Button\n              variant=\"contained\"\n              startIcon={<Add />}\n              onClick={() => {\n                setSelectedBook(null);\n                setBookFormData({\n                  title: '',\n                  author: '',\n                  description: '',\n                  ageRange: { min: 8, max: 15 }\n                });\n                setOpenBookDialog(true);\n              }}\n            >\n              Add New Book\n            </Button>\n          </Box>\n\n          \n\n          <Grid container spacing={3}>\n            {books.map((book) => (\n              <Grid item xs={12} md={6} key={book._id}>\n                <Card>\n                  <CardContent>\n                    <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start' }}>\n                      <div>\n                        <Typography variant=\"h6\">{book.title}</Typography>\n                        <Typography color=\"textSecondary\">{book.author}</Typography>\n                        <Typography variant=\"body2\" sx={{ mt: 1 }}>\n                          Age Range: {book.ageRange.min}-{book.ageRange.max}\n                        </Typography>\n                        <Typography variant=\"body2\">\n                          Drawings: {book.drawings?.length || 0}\n                        </Typography>\n                      </div>\n                      <div>\n                        <IconButton\n                          onClick={() => {\n                            setSelectedBook(book);\n                            setBookFormData({\n                              title: book.title,\n                              author: book.author,\n                              description: book.description,\n                              genres: book.genres || [],\n                              tags: book.tags || [],\n                              ageRange: book.ageRange\n                            });\n                            setOpenBookDialog(true);\n                          }}\n                        >\n                          <Edit />\n                        </IconButton>\n                        <IconButton onClick={() => handleDeleteBook(book._id)} color=\"error\">\n                          <Delete />\n                        </IconButton>\n                      </div>\n                    </Box>\n                  </CardContent>\n                </Card>\n              </Grid>\n            ))}\n          </Grid>\n        </>\n      )}\n\n  \n  \n  \n      {activeTab === 1 && (\n        <Box>\n          <Typography variant=\"h5\" gutterBottom>Platform Statistics</Typography>\n          <Grid container spacing={3}>\n            <Grid item xs={12} md={4}>\n              <Card>\n                <CardContent>\n                  <Typography color=\"textSecondary\" gutterBottom>\n                    Total Books\n                  </Typography>\n                  <Typography variant=\"h4\">{stats.totalBooks}</Typography>\n                </CardContent>\n              </Card>\n            </Grid>\n            \n            <Grid item xs={12} md={4}>\n              <Card>\n                <CardContent>\n                  <Typography color=\"textSecondary\" gutterBottom>\n                    Total Drawings\n                  </Typography>\n                  <Typography variant=\"h4\">{stats.totalDrawings}</Typography>\n                </CardContent>\n              </Card>\n            </Grid>\n            <Grid item xs={12} md={4}>\n              <Card>\n                <CardContent>\n                  <Typography color=\"textSecondary\" gutterBottom>\n                    Active Users\n                  </Typography>\n                  <Typography variant=\"h4\">{stats.activeUsers}</Typography>\n                </CardContent>\n              </Card>\n            </Grid>\n           </Grid>\n              {/* Add this new section */}\n              <Box sx={{ mt: 4 }}>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={async () => {\n                    try {\n                      console.log('Starting sync request...');\n                      const response = await fetch('http://localhost:3001/api/recommendations/sync', {\n                        method: 'POST',\n                        headers: {\n                          'Authorization': `Bearer ${localStorage.getItem('token')}`\n                        }\n                      });\n                      \n                      const data = await response.json();\n                      console.log('Sync response:', data);\n                      \n                      if (response.ok) {\n                        alert('Successfully synced books to graph database');\n                      } else {\n                        throw new Error(data.details || data.error || 'Failed to sync');\n                      }\n                    } catch (error) {\n                      console.error('Sync error:', error);\n                      alert(`Failed to sync books to graph database: ${error.message}`);\n                    }\n                  }}\n                >\n                  Sync Books to Graph Database\n                </Button>\n              </Box>\n            </Box>\n      )}\n  \n      {activeTab === 2 && (\n        <Box>\n          <Typography variant=\"h5\" gutterBottom>Content Moderation</Typography>\n          {/* Content moderation content */}\n        </Box>\n      )}\n\n      {/* {activeTab === 3 && (\n        <Box>\n          {console.log('Rendering vocabulary tab')}\n          <Typography variant=\"h5\" gutterBottom>Vocabulary Management</Typography>\n          <VocabularyManagement />\n        </Box>\n      )} */}\n\n      \n      {activeTab === 3 && (\n        <Box>\n          <Typography variant=\"h5\" gutterBottom>Vocabulary Management</Typography>\n          <VocabularyManagement />\n        </Box>\n      )}\n\n      {activeTab === 4 && (\n        <>\n          <BulkUpload />\n          {/* Rest of your existing Books Management content */}\n        </>\n      )}\n    \n  \n\n      {/* Book Dialog */}\n      <Dialog open={openBookDialog} onClose={() => setOpenBookDialog(false)} maxWidth=\"sm\" fullWidth>\n        <Box component=\"form\" onSubmit={handleBookSubmit} sx={{ p: 3 }}>\n          <Typography variant=\"h6\" gutterBottom>\n            {selectedBook ? 'Edit Book' : 'Add New Book'}\n          </Typography>\n          <TextField\n            fullWidth\n            label=\"Title\"\n            value={bookFormData.title}\n            onChange={(e) => setBookFormData({ ...bookFormData, title: e.target.value })}\n            margin=\"normal\"\n            required\n          />\n          <TextField\n            fullWidth\n            label=\"Author\"\n            value={bookFormData.author}\n            onChange={(e) => setBookFormData({ ...bookFormData, author: e.target.value })}\n            margin=\"normal\"\n            required\n          />\n          <TextField\n            fullWidth\n            label=\"Description\"\n            value={bookFormData.description}\n            onChange={(e) => setBookFormData({ ...bookFormData, description: e.target.value })}\n            margin=\"normal\"\n            multiline\n            rows={3}\n          />\n          {/* Genre Selection */}\n          <Box sx={{ mt: 2 }}>\n            <Typography variant=\"subtitle1\" gutterBottom>Genres</Typography>\n            <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap' }}>\n              {GENRES.map((genre) => (\n                <Chip\n                  key={genre}\n                  label={genre}\n                  onClick={() => {\n                    const currentGenres = bookFormData.genres || [];\n                    if (currentGenres.includes(genre)) {\n                      setBookFormData({\n                        ...bookFormData,\n                        genres: currentGenres.filter(g => g !== genre)\n                      });\n                    } else {\n                      setBookFormData({\n                        ...bookFormData,\n                        genres: [...currentGenres, genre]\n                      });\n                    }\n                  }}\n                  color={bookFormData.genres?.includes(genre) ? \"primary\" : \"default\"}\n                  variant={bookFormData.genres?.includes(genre) ? \"filled\" : \"outlined\"}\n                />\n              ))}\n            </Box>\n          </Box>\n          \n          {/* Tags Input */}\n          <Box sx={{ mt: 2 }}>\n            <Typography variant=\"subtitle1\" gutterBottom>Tags</Typography>\n            <TextField\n              fullWidth\n              label=\"Add tags (comma-separated)\"\n              value={bookFormData.tagInput || ''}\n              onChange={(e) => {\n                setBookFormData({\n                  ...bookFormData,\n                  tagInput: e.target.value\n                });\n              }}\n              helperText=\"Enter new tags separated by commas, they will be added when you save\"\n            />\n            {bookFormData.tags && bookFormData.tags.length > 0 && (\n              <Box sx={{ mt: 1, display: 'flex', gap: 0.5, flexWrap: 'wrap' }}>\n                {bookFormData.tags.map((tag, index) => (\n                  <Chip\n                    key={index}\n                    label={tag}\n                    onDelete={() => {\n                      setBookFormData({\n                        ...bookFormData,\n                        tags: bookFormData.tags.filter((_, i) => i !== index)\n                      });\n                    }}\n                    size=\"small\"\n                  />\n                ))}\n              </Box>\n            )}\n          </Box>\n          <Box sx={{ mt: 2 }}>\n            <Typography variant=\"subtitle1\" gutterBottom>Age Range</Typography>\n            <Grid container spacing={2}>\n              <Grid item xs={6}>\n                <TextField\n                  fullWidth\n                  label=\"Min Age\"\n                  type=\"number\"\n                  value={bookFormData.ageRange.min}\n                  onChange={(e) => setBookFormData({\n                    ...bookFormData,\n                    ageRange: { ...bookFormData.ageRange, min: parseInt(e.target.value) }\n                  })}\n                />\n              </Grid>\n              <Grid item xs={6}>\n                <TextField\n                  fullWidth\n                  label=\"Max Age\"\n                  type=\"number\"\n                  value={bookFormData.ageRange.max}\n                  onChange={(e) => setBookFormData({\n                    ...bookFormData,\n                    ageRange: { ...bookFormData.ageRange, max: parseInt(e.target.value) }\n                  })}\n                />\n              </Grid>\n            </Grid>\n          </Box>\n          <Box sx={{ mt: 3, display: 'flex', justifyContent: 'flex-end', gap: 2 }}>\n            <Button onClick={() => setOpenBookDialog(false)}>Cancel</Button>\n            <Button type=\"submit\" variant=\"contained\">\n              {selectedBook ? 'Save Changes' : 'Add Book'}\n            </Button>\n          </Box>\n        </Box>\n      </Dialog>\n    </Container>\n  );\n}\n\n// Bottom: export\nexport default AdminDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}