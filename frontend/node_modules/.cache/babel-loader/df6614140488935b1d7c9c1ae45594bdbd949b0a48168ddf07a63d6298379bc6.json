{"ast":null,"code":"var _jsxFileName = \"/Users/BrooksCole/Documents/reading-community/frontend/src/pages/BookGallery.js\",\n  _s = $RefreshSig$();\n// frontend/src/pages/BookGallery.js\nimport React, { useState, useEffect } from 'react';\nimport { Container, Grid, Typography, TextField, Box, Button, Paper, Snackbar, Alert, Chip, IconButton, Collapse, Dialog, DialogTitle, DialogContent } from '@mui/material';\nimport { CloudUpload, ExpandMore, ExpandLess, Quiz as QuizIcon, Close as CloseIcon } from '@mui/icons-material';\nimport DrawingCard from '../components/DrawingCard';\nimport FilterBar from '../components/FilterBar';\nimport VocabularyQuiz from '../components/vocabulary/VocabularyQuiz';\n//import DebugQuiz from './debug-quiz';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BookGallery() {\n  _s();\n  // State declarations (unchanged)\n  const [books, setBooks] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [selectedGenre, setSelectedGenre] = useState(null);\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: '',\n    severity: 'success'\n  });\n  const [expandedBooks, setExpandedBooks] = useState({});\n  const [selectedTag, setSelectedTag] = useState(null);\n  const [openQuiz, setOpenQuiz] = useState(false);\n  const [activeQuizBookId, setActiveQuizBookId] = useState(null);\n  //const [openBookDialog, setOpenBookDialog] = useState(false);\n\n  // Effects and handlers (unchanged)\n  useEffect(() => {\n    fetchBooks();\n  }, []);\n\n  // Your existing handler functions remain the same\n  const handleExpandBook = bookId => {\n    setExpandedBooks(prev => ({\n      ...prev,\n      [bookId]: !prev[bookId]\n    }));\n  };\n  const fetchBooks = async () => {\n    try {\n      const response = await fetch('http://localhost:3001/api/books');\n      const data = await response.json();\n      setBooks(data);\n      setLoading(false);\n    } catch (err) {\n      setError('Failed to load books');\n      setLoading(false);\n    }\n  };\n  const handleDrawingUpload = async (bookId, file, event) => {\n    event.preventDefault();\n    const formData = new FormData();\n    formData.append('drawing', file);\n    try {\n      const response = await fetch(`http://localhost:3001/api/books/${bookId}/drawings`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: formData\n      });\n      if (response.ok) {\n        setSnackbar({\n          open: true,\n          message: 'Drawing uploaded successfully!',\n          severity: 'success'\n        });\n        fetchBooks();\n      } else {\n        const data = await response.json();\n        setSnackbar({\n          open: true,\n          message: data.error || 'Failed to upload drawing',\n          severity: 'error'\n        });\n      }\n    } catch (err) {\n      console.error('Upload error:', err);\n      setSnackbar({\n        open: true,\n        message: 'Error uploading drawing',\n        severity: 'error'\n      });\n    }\n  };\n  const handleCloseSnackbar = () => {\n    setSnackbar({\n      ...snackbar,\n      open: false\n    });\n  };\n  const filteredBooks = books.filter(book => (searchTerm === '' || book.title.toLowerCase().includes(searchTerm.toLowerCase()) || book.author.toLowerCase().includes(searchTerm.toLowerCase())) && (!selectedGenre || book.genres && book.genres.includes(selectedGenre)) && (!selectedTag || book.tags && book.tags.includes(selectedTag)));\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        sx: {\n          mt: 4\n        },\n        children: \"Loading books...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        sx: {\n          mt: 4\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    sx: {\n      mt: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(FilterBar, {\n      selectedGenre: selectedGenre,\n      onGenreSelect: setSelectedGenre,\n      selectedTag: selectedTag,\n      onTagSelect: setSelectedTag\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Search books...\",\n        variant: \"outlined\",\n        value: searchTerm,\n        onChange: e => setSearchTerm(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        flexGrow: 1\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 4,\n        sx: {\n          '& .MuiGrid-item': {\n            transition: 'none'\n          }\n        },\n        children: filteredBooks.map(book => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            elevation: 3,\n            sx: {\n              transition: 'all 0.3s ease',\n              '&:hover': {\n                transform: 'translateY(-4px)',\n                boxShadow: 6\n              },\n              borderRadius: '12px',\n              overflow: 'hidden',\n              backgroundColor: 'background.paper',\n              position: 'relative'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              onClick: () => handleExpandBook(book._id),\n              sx: {\n                cursor: 'pointer',\n                position: 'relative'\n              },\n              children: [book.drawings && book.drawings.length > 0 ? /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  width: '100%',\n                  height: 200,\n                  overflow: 'hidden',\n                  borderTopLeftRadius: 4,\n                  borderTopRightRadius: 4\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: book.drawings.reduce((mostLiked, current) => {\n                    var _current$likes, _mostLiked$likes;\n                    const currentLikes = ((_current$likes = current.likes) === null || _current$likes === void 0 ? void 0 : _current$likes.length) || 0;\n                    const mostLikedCount = ((_mostLiked$likes = mostLiked.likes) === null || _mostLiked$likes === void 0 ? void 0 : _mostLiked$likes.length) || 0;\n                    return currentLikes > mostLikedCount ? current : mostLiked;\n                  }, book.drawings[0]).imageUrl,\n                  alt: `Most liked drawing for ${book.title}`,\n                  style: {\n                    width: '100%',\n                    height: '100%',\n                    objectFit: 'cover'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  width: '100%',\n                  height: 200,\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  bgcolor: 'grey.200',\n                  borderTopLeftRadius: 4,\n                  borderTopRightRadius: 4\n                },\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  color: \"text.secondary\",\n                  children: \"No drawings yet\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                sx: {\n                  position: 'absolute',\n                  bottom: 8,\n                  right: 8,\n                  backgroundColor: 'rgba(255, 255, 255, 0.9)',\n                  backdropFilter: 'blur(4px)',\n                  '&:hover': {\n                    backgroundColor: 'rgba(255, 255, 255, 1)',\n                    transform: 'scale(1.1)'\n                  },\n                  transition: 'all 0.2s ease',\n                  boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\n                },\n                children: expandedBooks[book._id] ? /*#__PURE__*/_jsxDEV(ExpandLess, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 48\n                }, this) : /*#__PURE__*/_jsxDEV(ExpandMore, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 65\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                p: 3\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h5\",\n                gutterBottom: true,\n                children: book.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                color: \"text.secondary\",\n                gutterBottom: true,\n                children: [\"by \", book.author]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 19\n              }, this), book.genres && /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  mb: 2,\n                  display: 'flex',\n                  gap: 0.5,\n                  flexWrap: 'wrap'\n                },\n                children: book.genres.map(genre => /*#__PURE__*/_jsxDEV(Chip, {\n                  label: genre,\n                  size: \"small\",\n                  variant: \"outlined\",\n                  sx: {\n                    fontSize: '0.75rem',\n                    height: '24px',\n                    borderRadius: '6px',\n                    backgroundColor: 'rgba(25, 118, 210, 0.08)',\n                    borderColor: 'primary.main',\n                    '&:hover': {\n                      backgroundColor: 'rgba(25, 118, 210, 0.15)'\n                    }\n                  }\n                }, genre, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                component: Link,\n                to: `/books/${book._id}/vocabulary`,\n                variant: \"contained\",\n                color: \"primary\",\n                fullWidth: true,\n                sx: {\n                  mb: 2\n                },\n                children: \"Vocabulary Training\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n                in: expandedBooks[book._id],\n                children: /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    mt: 2\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"contained\",\n                    component: \"label\",\n                    startIcon: /*#__PURE__*/_jsxDEV(CloudUpload, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 309,\n                      columnNumber: 36\n                    }, this),\n                    fullWidth: true,\n                    sx: {\n                      borderRadius: '8px',\n                      textTransform: 'none',\n                      py: 1.5,\n                      background: 'linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)',\n                      boxShadow: '0 3px 5px 2px rgba(33, 203, 243, .3)',\n                      '&:hover': {\n                        background: 'linear-gradient(45deg, #2196F3 60%, #21CBF3 90%)'\n                      }\n                    },\n                    children: [\"Upload Drawing\", /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"file\",\n                      hidden: true,\n                      accept: \"image/*\",\n                      onChange: e => {\n                        if (e.target.files[0]) {\n                          handleDrawingUpload(book._id, e.target.files[0], e);\n                        }\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 323,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 23\n                  }, this), book.drawings && book.drawings.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      mt: 2\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"h6\",\n                      gutterBottom: true,\n                      children: [\"Drawings (\", book.drawings.length, \")\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 338,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                      container: true,\n                      spacing: 1,\n                      children: book.drawings.map((drawing, index) => /*#__PURE__*/_jsxDEV(Grid, {\n                        item: true,\n                        xs: 12,\n                        children: /*#__PURE__*/_jsxDEV(DrawingCard, {\n                          drawing: drawing,\n                          bookId: book._id,\n                          onLikeUpdate: fetchBooks\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 344,\n                          columnNumber: 33\n                        }, this)\n                      }, index, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 343,\n                        columnNumber: 31\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 341,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 337,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"contained\",\n                    color: \"secondary\",\n                    fullWidth: true,\n                    onClick: () => {\n                      console.log('Quiz button clicked for book:', book._id);\n                      setActiveQuizBookId(book._id);\n                      setOpenQuiz(true);\n                      console.log('Set activeQuizBookId to:', book._id);\n                      console.log('Set openQuiz to: true');\n                    },\n                    startIcon: /*#__PURE__*/_jsxDEV(QuizIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 368,\n                      columnNumber: 36\n                    }, this),\n                    children: \"Take Vocabulary Quiz\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 23\n                  }, this), \"// Find this section in BookGallery.js and replace it\", /*#__PURE__*/_jsxDEV(Dialog, {\n                    open: openQuiz && activeQuizBookId === book._id,\n                    onClose: () => {\n                      console.log('Dialog closing');\n                      setOpenQuiz(false);\n                      setActiveQuizBookId(null);\n                    },\n                    maxWidth: \"md\",\n                    fullWidth: true,\n                    children: [console.log('Dialog rendering with:', {\n                      openQuiz,\n                      activeQuizBookId,\n                      bookId: book._id\n                    }), /*#__PURE__*/_jsxDEV(DialogTitle, {\n                      children: /*#__PURE__*/_jsxDEV(Box, {\n                        sx: {\n                          display: 'flex',\n                          justifyContent: 'space-between',\n                          alignItems: 'center'\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(Typography, {\n                          children: [\"Vocabulary Quiz - \", book.title]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 388,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                          onClick: () => {\n                            setOpenQuiz(false);\n                            setActiveQuizBookId(null);\n                          },\n                          children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 395,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 389,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 387,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 386,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n                      children: [console.log('DialogContent rendering, activeQuizBookId:', activeQuizBookId), /*#__PURE__*/_jsxDEV(Box, {\n                        sx: {\n                          py: 2\n                        },\n                        children: activeQuizBookId ? /*#__PURE__*/_jsxDEV(VocabularyQuiz, {\n                          bookId: activeQuizBookId\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 403,\n                          columnNumber: 31\n                        }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n                          children: \"No book ID provided\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 405,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 401,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 399,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      mt: 2\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      label: \"Add your tags (comma-separated)\",\n                      size: \"small\",\n                      value: book.tagInput || '',\n                      onChange: e => {\n                        setBooks(books.map(b => b._id === book._id ? {\n                          ...b,\n                          tagInput: e.target.value\n                        } : b));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 415,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      size: \"small\",\n                      onClick: async () => {\n                        try {\n                          const newTags = book.tagInput.split(',').map(tag => tag.trim()).filter(tag => tag);\n                          const response = await fetch(`http://localhost:3001/api/books/${book._id}/tags`, {\n                            method: 'POST',\n                            headers: {\n                              'Content-Type': 'application/json',\n                              'Authorization': `Bearer ${localStorage.getItem('token')}`\n                            },\n                            body: JSON.stringify({\n                              tags: newTags\n                            })\n                          });\n                          if (response.ok) {\n                            fetchBooks();\n                          }\n                        } catch (error) {\n                          console.error('Error adding tags:', error);\n                        }\n                      },\n                      sx: {\n                        mt: 1\n                      },\n                      children: \"Add Tags\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 428,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 414,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this)\n        }, book._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: snackbar.open,\n      autoHideDuration: 6000,\n      onClose: handleCloseSnackbar,\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleCloseSnackbar,\n        severity: snackbar.severity,\n        sx: {\n          width: '100%'\n        },\n        children: snackbar.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 5\n  }, this);\n}\n_s(BookGallery, \"AbEBura5Is1FMNHvRrJMTtk8ocI=\");\n_c = BookGallery;\nexport default BookGallery;\nvar _c;\n$RefreshReg$(_c, \"BookGallery\");","map":{"version":3,"names":["React","useState","useEffect","Container","Grid","Typography","TextField","Box","Button","Paper","Snackbar","Alert","Chip","IconButton","Collapse","Dialog","DialogTitle","DialogContent","CloudUpload","ExpandMore","ExpandLess","Quiz","QuizIcon","Close","CloseIcon","DrawingCard","FilterBar","VocabularyQuiz","Link","jsxDEV","_jsxDEV","BookGallery","_s","books","setBooks","searchTerm","setSearchTerm","loading","setLoading","error","setError","selectedGenre","setSelectedGenre","snackbar","setSnackbar","open","message","severity","expandedBooks","setExpandedBooks","selectedTag","setSelectedTag","openQuiz","setOpenQuiz","activeQuizBookId","setActiveQuizBookId","fetchBooks","handleExpandBook","bookId","prev","response","fetch","data","json","err","handleDrawingUpload","file","event","preventDefault","formData","FormData","append","method","headers","localStorage","getItem","body","ok","console","handleCloseSnackbar","filteredBooks","filter","book","title","toLowerCase","includes","author","genres","tags","children","variant","sx","mt","fileName","_jsxFileName","lineNumber","columnNumber","color","maxWidth","onGenreSelect","onTagSelect","mb","fullWidth","label","value","onChange","e","target","flexGrow","container","spacing","transition","map","item","xs","sm","md","elevation","transform","boxShadow","borderRadius","overflow","backgroundColor","position","onClick","_id","cursor","drawings","length","width","height","borderTopLeftRadius","borderTopRightRadius","src","reduce","mostLiked","current","_current$likes","_mostLiked$likes","currentLikes","likes","mostLikedCount","imageUrl","alt","style","objectFit","display","alignItems","justifyContent","bgcolor","bottom","right","backdropFilter","p","gutterBottom","gap","flexWrap","genre","size","fontSize","borderColor","component","to","in","startIcon","textTransform","py","background","type","hidden","accept","files","drawing","index","onLikeUpdate","log","onClose","tagInput","b","newTags","split","tag","trim","JSON","stringify","autoHideDuration","anchorOrigin","vertical","horizontal","_c","$RefreshReg$"],"sources":["/Users/BrooksCole/Documents/reading-community/frontend/src/pages/BookGallery.js"],"sourcesContent":["// frontend/src/pages/BookGallery.js\nimport React, { useState, useEffect } from 'react';\nimport { \n  Container, \n  Grid, \n  Typography, \n  TextField, \n  Box,\n  Button,\n  Paper,\n  Snackbar,\n  Alert,\n  Chip,\n  IconButton,\n  Collapse,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n} from '@mui/material';\nimport { \n  CloudUpload,\n  ExpandMore,\n  ExpandLess,\n  Quiz as QuizIcon,\n  Close as CloseIcon,\n} from '@mui/icons-material';\nimport DrawingCard from '../components/DrawingCard';\nimport FilterBar from '../components/FilterBar';\nimport VocabularyQuiz from '../components/vocabulary/VocabularyQuiz';\n//import DebugQuiz from './debug-quiz';\nimport { Link } from 'react-router-dom';\n\n\nfunction BookGallery() {\n  // State declarations (unchanged)\n  const [books, setBooks] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [selectedGenre, setSelectedGenre] = useState(null);\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: '',\n    severity: 'success'\n  });\n  const [expandedBooks, setExpandedBooks] = useState({});\n  const [selectedTag, setSelectedTag] = useState(null);\n  const [openQuiz, setOpenQuiz] = useState(false);\n  const [activeQuizBookId, setActiveQuizBookId] = useState(null);\n  //const [openBookDialog, setOpenBookDialog] = useState(false);\n  \n\n  // Effects and handlers (unchanged)\n  useEffect(() => {\n    fetchBooks();\n  }, []);\n\n  // Your existing handler functions remain the same\n  const handleExpandBook = (bookId) => {\n    setExpandedBooks(prev => ({\n      ...prev,\n      [bookId]: !prev[bookId]\n    }));\n  };\n\n  const fetchBooks = async () => {\n    try {\n      const response = await fetch('http://localhost:3001/api/books');\n      const data = await response.json();\n      setBooks(data);\n      setLoading(false);\n    } catch (err) {\n      setError('Failed to load books');\n      setLoading(false);\n    }\n  };\n\n  const handleDrawingUpload = async (bookId, file, event) => {\n    event.preventDefault();\n    const formData = new FormData();\n    formData.append('drawing', file);\n\n    try {\n      const response = await fetch(`http://localhost:3001/api/books/${bookId}/drawings`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: formData\n      });\n\n      if (response.ok) {\n        setSnackbar({\n          open: true,\n          message: 'Drawing uploaded successfully!',\n          severity: 'success'\n        });\n        fetchBooks();\n      } else {\n        const data = await response.json();\n        setSnackbar({\n          open: true,\n          message: data.error || 'Failed to upload drawing',\n          severity: 'error'\n        });\n      }\n    } catch (err) {\n      console.error('Upload error:', err);\n      setSnackbar({\n        open: true,\n        message: 'Error uploading drawing',\n        severity: 'error'\n      });\n    }\n  };\n\n  const handleCloseSnackbar = () => {\n    setSnackbar({ ...snackbar, open: false });\n  };\n\n  const filteredBooks = books.filter(book => \n    (searchTerm === '' || \n      book.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      book.author.toLowerCase().includes(searchTerm.toLowerCase())\n    ) &&\n    (!selectedGenre || (book.genres && book.genres.includes(selectedGenre))) &&\n    (!selectedTag || (book.tags && book.tags.includes(selectedTag)))\n  );\n\n  if (loading) {\n    return (\n      <Container>\n        <Typography variant=\"h5\" sx={{ mt: 4 }}>Loading books...</Typography>\n      </Container>\n    );\n  }\n  \n  if (error) {\n    return (\n      <Container>\n        <Typography color=\"error\" sx={{ mt: 4 }}>{error}</Typography>\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"lg\" sx={{ mt: 4 }}>\n      <FilterBar\n        selectedGenre={selectedGenre}\n        onGenreSelect={setSelectedGenre}\n        selectedTag={selectedTag}\n        onTagSelect={setSelectedTag}\n      />\n      \n      <Box sx={{ mb: 4 }}>\n        <TextField\n          fullWidth\n          label=\"Search books...\"\n          variant=\"outlined\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n        />\n      </Box>\n\n      <Box sx={{ flexGrow: 1 }}>\n        <Grid \n          container \n          spacing={4}\n          sx={{\n            '& .MuiGrid-item': {\n              transition: 'none',\n            }\n          }}\n        >\n          {filteredBooks.map((book) => (\n            <Grid item xs={12} sm={6} md={4} key={book._id}>\n              <Paper \n                elevation={3} \n                sx={{ \n                  transition: 'all 0.3s ease',\n                  '&:hover': {\n                    transform: 'translateY(-4px)',\n                    boxShadow: 6\n                  },\n                  borderRadius: '12px',\n                  overflow: 'hidden',\n                  backgroundColor: 'background.paper',\n                  position: 'relative'\n                }}\n              >\n                {/* Cover Image / Most Liked Drawing */}\n                <Box\n                  onClick={() => handleExpandBook(book._id)}\n                  sx={{ \n                    cursor: 'pointer',\n                    position: 'relative'\n                  }}\n                >\n                  {book.drawings && book.drawings.length > 0 ? (\n                    <Box sx={{ \n                      width: '100%', \n                      height: 200, \n                      overflow: 'hidden',\n                      borderTopLeftRadius: 4,\n                      borderTopRightRadius: 4\n                    }}>\n                      <img\n                        src={book.drawings.reduce((mostLiked, current) => {\n                          const currentLikes = current.likes?.length || 0;\n                          const mostLikedCount = mostLiked.likes?.length || 0;\n                          return currentLikes > mostLikedCount ? current : mostLiked;\n                        }, book.drawings[0]).imageUrl}\n                        alt={`Most liked drawing for ${book.title}`}\n                        style={{\n                          width: '100%',\n                          height: '100%',\n                          objectFit: 'cover'\n                        }}\n                      />\n                    </Box>\n                  ) : (\n                    <Box sx={{\n                      width: '100%',\n                      height: 200,\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      bgcolor: 'grey.200',\n                      borderTopLeftRadius: 4,\n                      borderTopRightRadius: 4\n                    }}>\n                      <Typography variant=\"body2\" color=\"text.secondary\">\n                        No drawings yet\n                      </Typography>\n                    </Box>\n                  )}\n                  \n                  {/* Expand/Collapse Indicator */}\n                  <IconButton \n                    sx={{ \n                      position: 'absolute', \n                      bottom: 8, \n                      right: 8,\n                      backgroundColor: 'rgba(255, 255, 255, 0.9)',\n                      backdropFilter: 'blur(4px)',\n                      '&:hover': {\n                        backgroundColor: 'rgba(255, 255, 255, 1)',\n                        transform: 'scale(1.1)'\n                      },\n                      transition: 'all 0.2s ease',\n                      boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\n                    }}\n                  >\n                    {expandedBooks[book._id] ? <ExpandLess /> : <ExpandMore />}\n                  </IconButton>\n                </Box>\n          \n                <Box sx={{ p: 3 }}>\n                  <Typography variant=\"h5\" gutterBottom>\n                    {book.title}\n                  </Typography>\n                  <Typography variant=\"subtitle1\" color=\"text.secondary\" gutterBottom>\n                    by {book.author}\n                  </Typography>\n                  \n                  {/* Genres and Age Range */}\n                  {book.genres && (\n                    <Box sx={{ mb: 2, display: 'flex', gap: 0.5, flexWrap: 'wrap' }}>\n                      {book.genres.map((genre) => (\n                        <Chip\n                          key={genre}\n                          label={genre}\n                          size=\"small\"\n                          variant=\"outlined\"\n                          sx={{\n                            fontSize: '0.75rem',\n                            height: '24px',\n                            borderRadius: '6px',\n                            backgroundColor: 'rgba(25, 118, 210, 0.08)',\n                            borderColor: 'primary.main',\n                            '&:hover': {\n                              backgroundColor: 'rgba(25, 118, 210, 0.15)',\n                            }\n                          }}\n                        />\n                      ))}\n                    </Box>\n                  )}\n\n                  {/* Vocabulary Training Button */}\n                  <Button \n                    component={Link} \n                    to={`/books/${book._id}/vocabulary`}\n                    variant=\"contained\"\n                    color=\"primary\"\n                    fullWidth\n                    sx={{ mb: 2 }}\n                  >\n                    Vocabulary Training\n                  </Button>\n          \n                  {/* Expanded Content */}\n                  <Collapse in={expandedBooks[book._id]}>\n                    <Box sx={{ mt: 2 }}>\n                      {/* Drawing Upload Button */}\n                      <Button\n                        variant=\"contained\"\n                        component=\"label\"\n                        startIcon={<CloudUpload />}\n                        fullWidth\n                        sx={{\n                          borderRadius: '8px',\n                          textTransform: 'none',\n                          py: 1.5,\n                          background: 'linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)',\n                          boxShadow: '0 3px 5px 2px rgba(33, 203, 243, .3)',\n                          '&:hover': {\n                            background: 'linear-gradient(45deg, #2196F3 60%, #21CBF3 90%)',\n                          }\n                        }}\n                      >\n                        Upload Drawing\n                        <input\n                          type=\"file\"\n                          hidden\n                          accept=\"image/*\"\n                          onChange={(e) => {\n                            if (e.target.files[0]) {\n                              handleDrawingUpload(book._id, e.target.files[0], e);\n                            }\n                          }}\n                        />\n                      </Button>\n\n                      {/* Drawings Grid */}\n                      {book.drawings && book.drawings.length > 0 && (\n                        <Box sx={{ mt: 2 }}>\n                          <Typography variant=\"h6\" gutterBottom>\n                            Drawings ({book.drawings.length})\n                          </Typography>\n                          <Grid container spacing={1}>\n                            {book.drawings.map((drawing, index) => (\n                              <Grid item xs={12} key={index}>\n                                <DrawingCard\n                                  drawing={drawing}\n                                  bookId={book._id}\n                                  onLikeUpdate={fetchBooks}\n                                />\n                              </Grid>\n                            ))}\n                          </Grid>\n                        </Box>\n                      )}\n\n                      {/* Vocabulary Quiz Button */}\n                      \n                      <Button\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        fullWidth\n                        onClick={() => {\n                          console.log('Quiz button clicked for book:', book._id);\n                          setActiveQuizBookId(book._id);\n                          setOpenQuiz(true);\n                          console.log('Set activeQuizBookId to:', book._id);\n                          console.log('Set openQuiz to: true');\n                        }}\n                        startIcon={<QuizIcon />}\n                      >\n                        Take Vocabulary Quiz\n                      </Button>\n                      \n                      // Find this section in BookGallery.js and replace it\n                      {/* Quiz Dialog */}\n                      <Dialog \n                        open={openQuiz && activeQuizBookId === book._id} \n                        onClose={() => {\n                          console.log('Dialog closing');\n                          setOpenQuiz(false);\n                          setActiveQuizBookId(null);\n                        }}\n                        maxWidth=\"md\"\n                        fullWidth\n                      >\n                        {console.log('Dialog rendering with:', { openQuiz, activeQuizBookId, bookId: book._id })}\n                        <DialogTitle>\n                          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                            <Typography>Vocabulary Quiz - {book.title}</Typography>\n                            <IconButton\n                              onClick={() => {\n                                setOpenQuiz(false);\n                                setActiveQuizBookId(null);\n                              }}\n                            >\n                              <CloseIcon />\n                            </IconButton>\n                          </Box>\n                        </DialogTitle>\n                        <DialogContent>\n                          {console.log('DialogContent rendering, activeQuizBookId:', activeQuizBookId)}\n                          <Box sx={{ py: 2 }}>\n                            {activeQuizBookId ? (\n                              <VocabularyQuiz bookId={activeQuizBookId} />\n                            ) : (\n                              <Typography>No book ID provided</Typography>\n                            )}\n                          </Box>\n                        </DialogContent>\n                      </Dialog>\n\n\n\n                      {/* Tags Section */}\n                      <Box sx={{ mt: 2 }}>\n                        <TextField\n                          fullWidth\n                          label=\"Add your tags (comma-separated)\"\n                          size=\"small\"\n                          value={book.tagInput || ''}\n                          onChange={(e) => {\n                            setBooks(books.map(b => \n                              b._id === book._id \n                                ? { ...b, tagInput: e.target.value }\n                                : b\n                            ));\n                          }}\n                        />\n                        <Button\n                          size=\"small\"\n                          onClick={async () => {\n                            try {\n                              const newTags = book.tagInput\n                                .split(',')\n                                .map(tag => tag.trim())\n                                .filter(tag => tag);\n                      \n                              const response = await fetch(`http://localhost:3001/api/books/${book._id}/tags`, {\n                                method: 'POST',\n                                headers: {\n                                  'Content-Type': 'application/json',\n                                  'Authorization': `Bearer ${localStorage.getItem('token')}`\n                                },\n                                body: JSON.stringify({ tags: newTags })\n                              });\n                      \n                              if (response.ok) {\n                                fetchBooks();\n                              }\n                            } catch (error) {\n                              console.error('Error adding tags:', error);\n                            }\n                          }}\n                          sx={{ mt: 1 }}\n                        >\n                          Add Tags\n                        </Button>\n                      </Box>\n                    </Box>\n                  </Collapse>\n                </Box>\n              </Paper>\n            </Grid>\n          ))}\n        </Grid>\n      </Box>\n\n      <Snackbar \n        open={snackbar.open} \n        autoHideDuration={6000} \n        onClose={handleCloseSnackbar}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n      >\n        <Alert \n          onClose={handleCloseSnackbar} \n          severity={snackbar.severity}\n          sx={{ width: '100%' }}\n        >\n          {snackbar.message}\n        </Alert>\n      </Snackbar>\n    </Container>\n  );\n}\n\nexport default BookGallery;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SACEC,SAAS,EACTC,IAAI,EACJC,UAAU,EACVC,SAAS,EACTC,GAAG,EACHC,MAAM,EACNC,KAAK,EACLC,QAAQ,EACRC,KAAK,EACLC,IAAI,EACJC,UAAU,EACVC,QAAQ,EACRC,MAAM,EACNC,WAAW,EACXC,aAAa,QACR,eAAe;AACtB,SACEC,WAAW,EACXC,UAAU,EACVC,UAAU,EACVC,IAAI,IAAIC,QAAQ,EAChBC,KAAK,IAAIC,SAAS,QACb,qBAAqB;AAC5B,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,cAAc,MAAM,yCAAyC;AACpE;AACA,SAASC,IAAI,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAGxC,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EACrB;EACA,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGjC,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACkC,UAAU,EAAEC,aAAa,CAAC,GAAGnC,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACoC,OAAO,EAAEC,UAAU,CAAC,GAAGrC,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACsC,KAAK,EAAEC,QAAQ,CAAC,GAAGvC,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACwC,aAAa,EAAEC,gBAAgB,CAAC,GAAGzC,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAAC0C,QAAQ,EAAEC,WAAW,CAAC,GAAG3C,QAAQ,CAAC;IACvC4C,IAAI,EAAE,KAAK;IACXC,OAAO,EAAE,EAAE;IACXC,QAAQ,EAAE;EACZ,CAAC,CAAC;EACF,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGhD,QAAQ,CAAC,CAAC,CAAC,CAAC;EACtD,MAAM,CAACiD,WAAW,EAAEC,cAAc,CAAC,GAAGlD,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACmD,QAAQ,EAAEC,WAAW,CAAC,GAAGpD,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACqD,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGtD,QAAQ,CAAC,IAAI,CAAC;EAC9D;;EAGA;EACAC,SAAS,CAAC,MAAM;IACdsD,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMC,gBAAgB,GAAIC,MAAM,IAAK;IACnCT,gBAAgB,CAACU,IAAI,KAAK;MACxB,GAAGA,IAAI;MACP,CAACD,MAAM,GAAG,CAACC,IAAI,CAACD,MAAM;IACxB,CAAC,CAAC,CAAC;EACL,CAAC;EAED,MAAMF,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACF,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAC,iCAAiC,CAAC;MAC/D,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;MAClC7B,QAAQ,CAAC4B,IAAI,CAAC;MACdxB,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,OAAO0B,GAAG,EAAE;MACZxB,QAAQ,CAAC,sBAAsB,CAAC;MAChCF,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAM2B,mBAAmB,GAAG,MAAAA,CAAOP,MAAM,EAAEQ,IAAI,EAAEC,KAAK,KAAK;IACzDA,KAAK,CAACC,cAAc,CAAC,CAAC;IACtB,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAEL,IAAI,CAAC;IAEhC,IAAI;MACF,MAAMN,QAAQ,GAAG,MAAMC,KAAK,CAAC,mCAAmCH,MAAM,WAAW,EAAE;QACjFc,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC1D,CAAC;QACDC,IAAI,EAAEP;MACR,CAAC,CAAC;MAEF,IAAIT,QAAQ,CAACiB,EAAE,EAAE;QACfjC,WAAW,CAAC;UACVC,IAAI,EAAE,IAAI;UACVC,OAAO,EAAE,gCAAgC;UACzCC,QAAQ,EAAE;QACZ,CAAC,CAAC;QACFS,UAAU,CAAC,CAAC;MACd,CAAC,MAAM;QACL,MAAMM,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;QAClCnB,WAAW,CAAC;UACVC,IAAI,EAAE,IAAI;UACVC,OAAO,EAAEgB,IAAI,CAACvB,KAAK,IAAI,0BAA0B;UACjDQ,QAAQ,EAAE;QACZ,CAAC,CAAC;MACJ;IACF,CAAC,CAAC,OAAOiB,GAAG,EAAE;MACZc,OAAO,CAACvC,KAAK,CAAC,eAAe,EAAEyB,GAAG,CAAC;MACnCpB,WAAW,CAAC;QACVC,IAAI,EAAE,IAAI;QACVC,OAAO,EAAE,yBAAyB;QAClCC,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ;EACF,CAAC;EAED,MAAMgC,mBAAmB,GAAGA,CAAA,KAAM;IAChCnC,WAAW,CAAC;MAAE,GAAGD,QAAQ;MAAEE,IAAI,EAAE;IAAM,CAAC,CAAC;EAC3C,CAAC;EAED,MAAMmC,aAAa,GAAG/C,KAAK,CAACgD,MAAM,CAACC,IAAI,IACrC,CAAC/C,UAAU,KAAK,EAAE,IAChB+C,IAAI,CAACC,KAAK,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAClD,UAAU,CAACiD,WAAW,CAAC,CAAC,CAAC,IAC3DF,IAAI,CAACI,MAAM,CAACF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAClD,UAAU,CAACiD,WAAW,CAAC,CAAC,CAAC,MAE7D,CAAC3C,aAAa,IAAKyC,IAAI,CAACK,MAAM,IAAIL,IAAI,CAACK,MAAM,CAACF,QAAQ,CAAC5C,aAAa,CAAE,CAAC,KACvE,CAACS,WAAW,IAAKgC,IAAI,CAACM,IAAI,IAAIN,IAAI,CAACM,IAAI,CAACH,QAAQ,CAACnC,WAAW,CAAE,CACjE,CAAC;EAED,IAAIb,OAAO,EAAE;IACX,oBACEP,OAAA,CAAC3B,SAAS;MAAAsF,QAAA,eACR3D,OAAA,CAACzB,UAAU;QAACqF,OAAO,EAAC,IAAI;QAACC,EAAE,EAAE;UAAEC,EAAE,EAAE;QAAE,CAAE;QAAAH,QAAA,EAAC;MAAgB;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5D,CAAC;EAEhB;EAEA,IAAIzD,KAAK,EAAE;IACT,oBACET,OAAA,CAAC3B,SAAS;MAAAsF,QAAA,eACR3D,OAAA,CAACzB,UAAU;QAAC4F,KAAK,EAAC,OAAO;QAACN,EAAE,EAAE;UAAEC,EAAE,EAAE;QAAE,CAAE;QAAAH,QAAA,EAAElD;MAAK;QAAAsD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAa;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpD,CAAC;EAEhB;EAEA,oBACElE,OAAA,CAAC3B,SAAS;IAAC+F,QAAQ,EAAC,IAAI;IAACP,EAAE,EAAE;MAAEC,EAAE,EAAE;IAAE,CAAE;IAAAH,QAAA,gBACrC3D,OAAA,CAACJ,SAAS;MACRe,aAAa,EAAEA,aAAc;MAC7B0D,aAAa,EAAEzD,gBAAiB;MAChCQ,WAAW,EAAEA,WAAY;MACzBkD,WAAW,EAAEjD;IAAe;MAAA0C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7B,CAAC,eAEFlE,OAAA,CAACvB,GAAG;MAACoF,EAAE,EAAE;QAAEU,EAAE,EAAE;MAAE,CAAE;MAAAZ,QAAA,eACjB3D,OAAA,CAACxB,SAAS;QACRgG,SAAS;QACTC,KAAK,EAAC,iBAAiB;QACvBb,OAAO,EAAC,UAAU;QAClBc,KAAK,EAAErE,UAAW;QAClBsE,QAAQ,EAAGC,CAAC,IAAKtE,aAAa,CAACsE,CAAC,CAACC,MAAM,CAACH,KAAK;MAAE;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAENlE,OAAA,CAACvB,GAAG;MAACoF,EAAE,EAAE;QAAEiB,QAAQ,EAAE;MAAE,CAAE;MAAAnB,QAAA,eACvB3D,OAAA,CAAC1B,IAAI;QACHyG,SAAS;QACTC,OAAO,EAAE,CAAE;QACXnB,EAAE,EAAE;UACF,iBAAiB,EAAE;YACjBoB,UAAU,EAAE;UACd;QACF,CAAE;QAAAtB,QAAA,EAEDT,aAAa,CAACgC,GAAG,CAAE9B,IAAI,iBACtBpD,OAAA,CAAC1B,IAAI;UAAC6G,IAAI;UAACC,EAAE,EAAE,EAAG;UAACC,EAAE,EAAE,CAAE;UAACC,EAAE,EAAE,CAAE;UAAA3B,QAAA,eAC9B3D,OAAA,CAACrB,KAAK;YACJ4G,SAAS,EAAE,CAAE;YACb1B,EAAE,EAAE;cACFoB,UAAU,EAAE,eAAe;cAC3B,SAAS,EAAE;gBACTO,SAAS,EAAE,kBAAkB;gBAC7BC,SAAS,EAAE;cACb,CAAC;cACDC,YAAY,EAAE,MAAM;cACpBC,QAAQ,EAAE,QAAQ;cAClBC,eAAe,EAAE,kBAAkB;cACnCC,QAAQ,EAAE;YACZ,CAAE;YAAAlC,QAAA,gBAGF3D,OAAA,CAACvB,GAAG;cACFqH,OAAO,EAAEA,CAAA,KAAMnE,gBAAgB,CAACyB,IAAI,CAAC2C,GAAG,CAAE;cAC1ClC,EAAE,EAAE;gBACFmC,MAAM,EAAE,SAAS;gBACjBH,QAAQ,EAAE;cACZ,CAAE;cAAAlC,QAAA,GAEDP,IAAI,CAAC6C,QAAQ,IAAI7C,IAAI,CAAC6C,QAAQ,CAACC,MAAM,GAAG,CAAC,gBACxClG,OAAA,CAACvB,GAAG;gBAACoF,EAAE,EAAE;kBACPsC,KAAK,EAAE,MAAM;kBACbC,MAAM,EAAE,GAAG;kBACXT,QAAQ,EAAE,QAAQ;kBAClBU,mBAAmB,EAAE,CAAC;kBACtBC,oBAAoB,EAAE;gBACxB,CAAE;gBAAA3C,QAAA,eACA3D,OAAA;kBACEuG,GAAG,EAAEnD,IAAI,CAAC6C,QAAQ,CAACO,MAAM,CAAC,CAACC,SAAS,EAAEC,OAAO,KAAK;oBAAA,IAAAC,cAAA,EAAAC,gBAAA;oBAChD,MAAMC,YAAY,GAAG,EAAAF,cAAA,GAAAD,OAAO,CAACI,KAAK,cAAAH,cAAA,uBAAbA,cAAA,CAAeT,MAAM,KAAI,CAAC;oBAC/C,MAAMa,cAAc,GAAG,EAAAH,gBAAA,GAAAH,SAAS,CAACK,KAAK,cAAAF,gBAAA,uBAAfA,gBAAA,CAAiBV,MAAM,KAAI,CAAC;oBACnD,OAAOW,YAAY,GAAGE,cAAc,GAAGL,OAAO,GAAGD,SAAS;kBAC5D,CAAC,EAAErD,IAAI,CAAC6C,QAAQ,CAAC,CAAC,CAAC,CAAC,CAACe,QAAS;kBAC9BC,GAAG,EAAE,0BAA0B7D,IAAI,CAACC,KAAK,EAAG;kBAC5C6D,KAAK,EAAE;oBACLf,KAAK,EAAE,MAAM;oBACbC,MAAM,EAAE,MAAM;oBACde,SAAS,EAAE;kBACb;gBAAE;kBAAApD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,gBAENlE,OAAA,CAACvB,GAAG;gBAACoF,EAAE,EAAE;kBACPsC,KAAK,EAAE,MAAM;kBACbC,MAAM,EAAE,GAAG;kBACXgB,OAAO,EAAE,MAAM;kBACfC,UAAU,EAAE,QAAQ;kBACpBC,cAAc,EAAE,QAAQ;kBACxBC,OAAO,EAAE,UAAU;kBACnBlB,mBAAmB,EAAE,CAAC;kBACtBC,oBAAoB,EAAE;gBACxB,CAAE;gBAAA3C,QAAA,eACA3D,OAAA,CAACzB,UAAU;kBAACqF,OAAO,EAAC,OAAO;kBAACO,KAAK,EAAC,gBAAgB;kBAAAR,QAAA,EAAC;gBAEnD;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACV,CACN,eAGDlE,OAAA,CAACjB,UAAU;gBACT8E,EAAE,EAAE;kBACFgC,QAAQ,EAAE,UAAU;kBACpB2B,MAAM,EAAE,CAAC;kBACTC,KAAK,EAAE,CAAC;kBACR7B,eAAe,EAAE,0BAA0B;kBAC3C8B,cAAc,EAAE,WAAW;kBAC3B,SAAS,EAAE;oBACT9B,eAAe,EAAE,wBAAwB;oBACzCJ,SAAS,EAAE;kBACb,CAAC;kBACDP,UAAU,EAAE,eAAe;kBAC3BQ,SAAS,EAAE;gBACb,CAAE;gBAAA9B,QAAA,EAEDzC,aAAa,CAACkC,IAAI,CAAC2C,GAAG,CAAC,gBAAG/F,OAAA,CAACV,UAAU;kBAAAyE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,gBAAGlE,OAAA,CAACX,UAAU;kBAAA0E,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChD,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACV,CAAC,eAENlE,OAAA,CAACvB,GAAG;cAACoF,EAAE,EAAE;gBAAE8D,CAAC,EAAE;cAAE,CAAE;cAAAhE,QAAA,gBAChB3D,OAAA,CAACzB,UAAU;gBAACqF,OAAO,EAAC,IAAI;gBAACgE,YAAY;gBAAAjE,QAAA,EAClCP,IAAI,CAACC;cAAK;gBAAAU,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD,CAAC,eACblE,OAAA,CAACzB,UAAU;gBAACqF,OAAO,EAAC,WAAW;gBAACO,KAAK,EAAC,gBAAgB;gBAACyD,YAAY;gBAAAjE,QAAA,GAAC,KAC/D,EAACP,IAAI,CAACI,MAAM;cAAA;gBAAAO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC,EAGZd,IAAI,CAACK,MAAM,iBACVzD,OAAA,CAACvB,GAAG;gBAACoF,EAAE,EAAE;kBAAEU,EAAE,EAAE,CAAC;kBAAE6C,OAAO,EAAE,MAAM;kBAAES,GAAG,EAAE,GAAG;kBAAEC,QAAQ,EAAE;gBAAO,CAAE;gBAAAnE,QAAA,EAC7DP,IAAI,CAACK,MAAM,CAACyB,GAAG,CAAE6C,KAAK,iBACrB/H,OAAA,CAAClB,IAAI;kBAEH2F,KAAK,EAAEsD,KAAM;kBACbC,IAAI,EAAC,OAAO;kBACZpE,OAAO,EAAC,UAAU;kBAClBC,EAAE,EAAE;oBACFoE,QAAQ,EAAE,SAAS;oBACnB7B,MAAM,EAAE,MAAM;oBACdV,YAAY,EAAE,KAAK;oBACnBE,eAAe,EAAE,0BAA0B;oBAC3CsC,WAAW,EAAE,cAAc;oBAC3B,SAAS,EAAE;sBACTtC,eAAe,EAAE;oBACnB;kBACF;gBAAE,GAbGmC,KAAK;kBAAAhE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAcX,CACF;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CACN,eAGDlE,OAAA,CAACtB,MAAM;gBACLyJ,SAAS,EAAErI,IAAK;gBAChBsI,EAAE,EAAE,UAAUhF,IAAI,CAAC2C,GAAG,aAAc;gBACpCnC,OAAO,EAAC,WAAW;gBACnBO,KAAK,EAAC,SAAS;gBACfK,SAAS;gBACTX,EAAE,EAAE;kBAAEU,EAAE,EAAE;gBAAE,CAAE;gBAAAZ,QAAA,EACf;cAED;gBAAAI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAGTlE,OAAA,CAAChB,QAAQ;gBAACqJ,EAAE,EAAEnH,aAAa,CAACkC,IAAI,CAAC2C,GAAG,CAAE;gBAAApC,QAAA,eACpC3D,OAAA,CAACvB,GAAG;kBAACoF,EAAE,EAAE;oBAAEC,EAAE,EAAE;kBAAE,CAAE;kBAAAH,QAAA,gBAEjB3D,OAAA,CAACtB,MAAM;oBACLkF,OAAO,EAAC,WAAW;oBACnBuE,SAAS,EAAC,OAAO;oBACjBG,SAAS,eAAEtI,OAAA,CAACZ,WAAW;sBAAA2E,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAE;oBAC3BM,SAAS;oBACTX,EAAE,EAAE;sBACF6B,YAAY,EAAE,KAAK;sBACnB6C,aAAa,EAAE,MAAM;sBACrBC,EAAE,EAAE,GAAG;sBACPC,UAAU,EAAE,kDAAkD;sBAC9DhD,SAAS,EAAE,sCAAsC;sBACjD,SAAS,EAAE;wBACTgD,UAAU,EAAE;sBACd;oBACF,CAAE;oBAAA9E,QAAA,GACH,gBAEC,eAAA3D,OAAA;sBACE0I,IAAI,EAAC,MAAM;sBACXC,MAAM;sBACNC,MAAM,EAAC,SAAS;sBAChBjE,QAAQ,EAAGC,CAAC,IAAK;wBACf,IAAIA,CAAC,CAACC,MAAM,CAACgE,KAAK,CAAC,CAAC,CAAC,EAAE;0BACrB1G,mBAAmB,CAACiB,IAAI,CAAC2C,GAAG,EAAEnB,CAAC,CAACC,MAAM,CAACgE,KAAK,CAAC,CAAC,CAAC,EAAEjE,CAAC,CAAC;wBACrD;sBACF;oBAAE;sBAAAb,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACH,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACI,CAAC,EAGRd,IAAI,CAAC6C,QAAQ,IAAI7C,IAAI,CAAC6C,QAAQ,CAACC,MAAM,GAAG,CAAC,iBACxClG,OAAA,CAACvB,GAAG;oBAACoF,EAAE,EAAE;sBAAEC,EAAE,EAAE;oBAAE,CAAE;oBAAAH,QAAA,gBACjB3D,OAAA,CAACzB,UAAU;sBAACqF,OAAO,EAAC,IAAI;sBAACgE,YAAY;sBAAAjE,QAAA,GAAC,YAC1B,EAACP,IAAI,CAAC6C,QAAQ,CAACC,MAAM,EAAC,GAClC;oBAAA;sBAAAnC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAY,CAAC,eACblE,OAAA,CAAC1B,IAAI;sBAACyG,SAAS;sBAACC,OAAO,EAAE,CAAE;sBAAArB,QAAA,EACxBP,IAAI,CAAC6C,QAAQ,CAACf,GAAG,CAAC,CAAC4D,OAAO,EAAEC,KAAK,kBAChC/I,OAAA,CAAC1B,IAAI;wBAAC6G,IAAI;wBAACC,EAAE,EAAE,EAAG;wBAAAzB,QAAA,eAChB3D,OAAA,CAACL,WAAW;0BACVmJ,OAAO,EAAEA,OAAQ;0BACjBlH,MAAM,EAAEwB,IAAI,CAAC2C,GAAI;0BACjBiD,YAAY,EAAEtH;wBAAW;0BAAAqC,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAC1B;sBAAC,GALoB6E,KAAK;wBAAAhF,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAMvB,CACP;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACE,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACJ,CACN,eAIDlE,OAAA,CAACtB,MAAM;oBACLkF,OAAO,EAAC,WAAW;oBACnBO,KAAK,EAAC,WAAW;oBACjBK,SAAS;oBACTsB,OAAO,EAAEA,CAAA,KAAM;sBACb9C,OAAO,CAACiG,GAAG,CAAC,+BAA+B,EAAE7F,IAAI,CAAC2C,GAAG,CAAC;sBACtDtE,mBAAmB,CAAC2B,IAAI,CAAC2C,GAAG,CAAC;sBAC7BxE,WAAW,CAAC,IAAI,CAAC;sBACjByB,OAAO,CAACiG,GAAG,CAAC,0BAA0B,EAAE7F,IAAI,CAAC2C,GAAG,CAAC;sBACjD/C,OAAO,CAACiG,GAAG,CAAC,uBAAuB,CAAC;oBACtC,CAAE;oBACFX,SAAS,eAAEtI,OAAA,CAACR,QAAQ;sBAAAuE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAE;oBAAAP,QAAA,EACzB;kBAED;oBAAAI,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,yDAGT,eACAlE,OAAA,CAACf,MAAM;oBACL8B,IAAI,EAAEO,QAAQ,IAAIE,gBAAgB,KAAK4B,IAAI,CAAC2C,GAAI;oBAChDmD,OAAO,EAAEA,CAAA,KAAM;sBACblG,OAAO,CAACiG,GAAG,CAAC,gBAAgB,CAAC;sBAC7B1H,WAAW,CAAC,KAAK,CAAC;sBAClBE,mBAAmB,CAAC,IAAI,CAAC;oBAC3B,CAAE;oBACF2C,QAAQ,EAAC,IAAI;oBACbI,SAAS;oBAAAb,QAAA,GAERX,OAAO,CAACiG,GAAG,CAAC,wBAAwB,EAAE;sBAAE3H,QAAQ;sBAAEE,gBAAgB;sBAAEI,MAAM,EAAEwB,IAAI,CAAC2C;oBAAI,CAAC,CAAC,eACxF/F,OAAA,CAACd,WAAW;sBAAAyE,QAAA,eACV3D,OAAA,CAACvB,GAAG;wBAACoF,EAAE,EAAE;0BAAEuD,OAAO,EAAE,MAAM;0BAAEE,cAAc,EAAE,eAAe;0BAAED,UAAU,EAAE;wBAAS,CAAE;wBAAA1D,QAAA,gBAClF3D,OAAA,CAACzB,UAAU;0BAAAoF,QAAA,GAAC,oBAAkB,EAACP,IAAI,CAACC,KAAK;wBAAA;0BAAAU,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAa,CAAC,eACvDlE,OAAA,CAACjB,UAAU;0BACT+G,OAAO,EAAEA,CAAA,KAAM;4BACbvE,WAAW,CAAC,KAAK,CAAC;4BAClBE,mBAAmB,CAAC,IAAI,CAAC;0BAC3B,CAAE;0BAAAkC,QAAA,eAEF3D,OAAA,CAACN,SAAS;4BAAAqE,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAAE;wBAAC;0BAAAH,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACH,CAAC;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACV;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACK,CAAC,eACdlE,OAAA,CAACb,aAAa;sBAAAwE,QAAA,GACXX,OAAO,CAACiG,GAAG,CAAC,4CAA4C,EAAEzH,gBAAgB,CAAC,eAC5ExB,OAAA,CAACvB,GAAG;wBAACoF,EAAE,EAAE;0BAAE2E,EAAE,EAAE;wBAAE,CAAE;wBAAA7E,QAAA,EAChBnC,gBAAgB,gBACfxB,OAAA,CAACH,cAAc;0BAAC+B,MAAM,EAAEJ;wBAAiB;0BAAAuC,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAE,CAAC,gBAE5ClE,OAAA,CAACzB,UAAU;0BAAAoF,QAAA,EAAC;wBAAmB;0BAAAI,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAY;sBAC5C;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACE,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACO,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACV,CAAC,eAKTlE,OAAA,CAACvB,GAAG;oBAACoF,EAAE,EAAE;sBAAEC,EAAE,EAAE;oBAAE,CAAE;oBAAAH,QAAA,gBACjB3D,OAAA,CAACxB,SAAS;sBACRgG,SAAS;sBACTC,KAAK,EAAC,iCAAiC;sBACvCuD,IAAI,EAAC,OAAO;sBACZtD,KAAK,EAAEtB,IAAI,CAAC+F,QAAQ,IAAI,EAAG;sBAC3BxE,QAAQ,EAAGC,CAAC,IAAK;wBACfxE,QAAQ,CAACD,KAAK,CAAC+E,GAAG,CAACkE,CAAC,IAClBA,CAAC,CAACrD,GAAG,KAAK3C,IAAI,CAAC2C,GAAG,GACd;0BAAE,GAAGqD,CAAC;0BAAED,QAAQ,EAAEvE,CAAC,CAACC,MAAM,CAACH;wBAAM,CAAC,GAClC0E,CACN,CAAC,CAAC;sBACJ;oBAAE;sBAAArF,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACH,CAAC,eACFlE,OAAA,CAACtB,MAAM;sBACLsJ,IAAI,EAAC,OAAO;sBACZlC,OAAO,EAAE,MAAAA,CAAA,KAAY;wBACnB,IAAI;0BACF,MAAMuD,OAAO,GAAGjG,IAAI,CAAC+F,QAAQ,CAC1BG,KAAK,CAAC,GAAG,CAAC,CACVpE,GAAG,CAACqE,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACtBrG,MAAM,CAACoG,GAAG,IAAIA,GAAG,CAAC;0BAErB,MAAMzH,QAAQ,GAAG,MAAMC,KAAK,CAAC,mCAAmCqB,IAAI,CAAC2C,GAAG,OAAO,EAAE;4BAC/ErD,MAAM,EAAE,MAAM;4BACdC,OAAO,EAAE;8BACP,cAAc,EAAE,kBAAkB;8BAClC,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;4BAC1D,CAAC;4BACDC,IAAI,EAAE2G,IAAI,CAACC,SAAS,CAAC;8BAAEhG,IAAI,EAAE2F;4BAAQ,CAAC;0BACxC,CAAC,CAAC;0BAEF,IAAIvH,QAAQ,CAACiB,EAAE,EAAE;4BACfrB,UAAU,CAAC,CAAC;0BACd;wBACF,CAAC,CAAC,OAAOjB,KAAK,EAAE;0BACduC,OAAO,CAACvC,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;wBAC5C;sBACF,CAAE;sBACFoD,EAAE,EAAE;wBAAEC,EAAE,EAAE;sBAAE,CAAE;sBAAAH,QAAA,EACf;oBAED;sBAAAI,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACN,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACR,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD;QAAC,GA7R4Bd,IAAI,CAAC2C,GAAG;UAAAhC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OA8RxC,CACP;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC,eAENlE,OAAA,CAACpB,QAAQ;MACPmC,IAAI,EAAEF,QAAQ,CAACE,IAAK;MACpB4I,gBAAgB,EAAE,IAAK;MACvBT,OAAO,EAAEjG,mBAAoB;MAC7B2G,YAAY,EAAE;QAAEC,QAAQ,EAAE,QAAQ;QAAEC,UAAU,EAAE;MAAS,CAAE;MAAAnG,QAAA,eAE3D3D,OAAA,CAACnB,KAAK;QACJqK,OAAO,EAAEjG,mBAAoB;QAC7BhC,QAAQ,EAAEJ,QAAQ,CAACI,QAAS;QAC5B4C,EAAE,EAAE;UAAEsC,KAAK,EAAE;QAAO,CAAE;QAAAxC,QAAA,EAErB9C,QAAQ,CAACG;MAAO;QAAA+C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACZ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEhB;AAAChE,EAAA,CAjcQD,WAAW;AAAA8J,EAAA,GAAX9J,WAAW;AAmcpB,eAAeA,WAAW;AAAC,IAAA8J,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}