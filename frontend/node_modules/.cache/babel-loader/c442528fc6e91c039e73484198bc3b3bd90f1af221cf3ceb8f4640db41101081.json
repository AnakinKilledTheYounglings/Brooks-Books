{"ast":null,"code":"// frontend/src/pages/UserProfile.js\nimport React,{useState,useEffect}from'react';import{Container,Paper,Typography,Box,Chip,Grid}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UserProfile(){const[profile,setProfile]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{fetchProfile();},[]);const fetchProfile=async()=>{try{const response=await fetch('http://localhost:3001/api/auth/profile',{headers:{'Authorization':`Bearer ${localStorage.getItem('token')}`}});const data=await response.json();if(response.ok){setProfile(data);}else{setError(data.error);}setLoading(false);}catch(err){setError('Failed to load profile');setLoading(false);}};if(loading)return/*#__PURE__*/_jsx(Typography,{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(Typography,{color:\"error\",children:error});if(!profile)return/*#__PURE__*/_jsx(Typography,{children:\"Please log in to view your profile\"});return/*#__PURE__*/_jsx(Container,{maxWidth:\"md\",children:/*#__PURE__*/_jsx(Box,{sx:{mt:4},children:/*#__PURE__*/_jsxs(Paper,{sx:{p:4},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",gutterBottom:true,children:[profile.username,\"'s Profile\"]}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",color:\"primary\",gutterBottom:true,children:[\"Points: \",profile.points]}),profile.achievements&&profile.achievements.length>0&&/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Achievements\"}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',gap:1,flexWrap:'wrap'},children:profile.achievements.map((achievement,index)=>/*#__PURE__*/_jsx(Chip,{label:achievement,color:\"primary\",variant:\"outlined\"},index))})]}),profile.pointsHistory&&profile.pointsHistory.length>0&&/*#__PURE__*/_jsxs(Box,{sx:{mt:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Recent Activity\"}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:profile.pointsHistory.map((activity,index)=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:2},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",children:[activity.action,\": +\",activity.points,\" points\"]}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:new Date(activity.timestamp).toLocaleDateString()})]})},index))})]})]})})});}export default UserProfile;","map":{"version":3,"names":["React","useState","useEffect","Container","Paper","Typography","Box","Chip","Grid","jsx","_jsx","jsxs","_jsxs","UserProfile","profile","setProfile","loading","setLoading","error","setError","fetchProfile","response","fetch","headers","localStorage","getItem","data","json","ok","err","children","color","maxWidth","sx","mt","p","variant","gutterBottom","username","points","achievements","length","display","gap","flexWrap","map","achievement","index","label","pointsHistory","container","spacing","activity","item","xs","action","Date","timestamp","toLocaleDateString"],"sources":["/Users/BrooksCole/Documents/reading-community/frontend/src/pages/UserProfile.js"],"sourcesContent":["// frontend/src/pages/UserProfile.js\nimport React, { useState, useEffect } from 'react';\nimport { Container, Paper, Typography, Box, Chip, Grid } from '@mui/material';\n\nfunction UserProfile() {\n  const [profile, setProfile] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    fetchProfile();\n  }, []);\n\n  const fetchProfile = async () => {\n    try {\n      const response = await fetch('http://localhost:3001/api/auth/profile', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      const data = await response.json();\n      \n      if (response.ok) {\n        setProfile(data);\n      } else {\n        setError(data.error);\n      }\n      setLoading(false);\n    } catch (err) {\n      setError('Failed to load profile');\n      setLoading(false);\n    }\n  };\n\n  if (loading) return <Typography>Loading...</Typography>;\n  if (error) return <Typography color=\"error\">{error}</Typography>;\n  if (!profile) return <Typography>Please log in to view your profile</Typography>;\n\n  return (\n    <Container maxWidth=\"md\">\n      <Box sx={{ mt: 4 }}>\n        <Paper sx={{ p: 4 }}>\n          <Typography variant=\"h4\" gutterBottom>\n            {profile.username}'s Profile\n          </Typography>\n          <Typography variant=\"h6\" color=\"primary\" gutterBottom>\n            Points: {profile.points}\n          </Typography>\n          \n          {profile.achievements && profile.achievements.length > 0 && (\n            <Box sx={{ mt: 2 }}>\n              <Typography variant=\"h6\" gutterBottom>\n                Achievements\n              </Typography>\n              <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap' }}>\n                {profile.achievements.map((achievement, index) => (\n                  <Chip\n                    key={index}\n                    label={achievement}\n                    color=\"primary\"\n                    variant=\"outlined\"\n                  />\n                ))}\n              </Box>\n            </Box>\n          )}\n\n          {profile.pointsHistory && profile.pointsHistory.length > 0 && (\n            <Box sx={{ mt: 4 }}>\n              <Typography variant=\"h6\" gutterBottom>\n                Recent Activity\n              </Typography>\n              <Grid container spacing={2}>\n                {profile.pointsHistory.map((activity, index) => (\n                  <Grid item xs={12} key={index}>\n                    <Paper sx={{ p: 2 }}>\n                      <Typography variant=\"body1\">\n                        {activity.action}: +{activity.points} points\n                      </Typography>\n                      <Typography variant=\"caption\" color=\"text.secondary\">\n                        {new Date(activity.timestamp).toLocaleDateString()}\n                      </Typography>\n                    </Paper>\n                  </Grid>\n                ))}\n              </Grid>\n            </Box>\n          )}\n        </Paper>\n      </Box>\n    </Container>\n  );\n}\n\nexport default UserProfile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}