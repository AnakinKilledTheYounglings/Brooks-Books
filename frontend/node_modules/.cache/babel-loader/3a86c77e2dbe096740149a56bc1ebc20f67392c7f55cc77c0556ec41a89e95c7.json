{"ast":null,"code":"// frontend/src/pages/BookGallery.js\nimport React,{useState,useEffect}from'react';import{Container,Grid,Typography,TextField,Box,Button,Paper,Snackbar,Alert,Chip,IconButton,Collapse,Dialog,DialogTitle,DialogContent}from'@mui/material';import{CloudUpload,ExpandMore,ExpandLess,Quiz as QuizIcon,Close as CloseIcon}from'@mui/icons-material';import DrawingCard from'../components/DrawingCard';import FilterBar from'../components/FilterBar';import VocabularyQuiz from'../components/vocabulary/VocabularyQuiz';//import DebugQuiz from './debug-quiz';\nimport{Link}from'react-router-dom';import apiService from'../services/apiService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function BookGallery(){// State declarations (unchanged)\nconst[books,setBooks]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[selectedGenre,setSelectedGenre]=useState(null);const[snackbar,setSnackbar]=useState({open:false,message:'',severity:'success'});const[expandedBooks,setExpandedBooks]=useState({});const[selectedTag,setSelectedTag]=useState(null);const[openQuiz,setOpenQuiz]=useState(false);const[activeQuizBookId,setActiveQuizBookId]=useState(null);//const [openBookDialog, setOpenBookDialog] = useState(false);\n// Effects and handlers (unchanged)\nuseEffect(()=>{fetchBooks();},[]);// Your existing handler functions remain the same\nconst handleExpandBook=bookId=>{setExpandedBooks(prev=>({...prev,[bookId]:!prev[bookId]}));};const fetchBooks=async()=>{try{const data=await apiService.getAllBooks();setBooks(data);setLoading(false);}catch(err){setError('Failed to load books');setLoading(false);}};const handleDrawingUpload=async(bookId,file,event)=>{event.preventDefault();try{const response=await apiService.uploadDrawing(bookId,file);setSnackbar({open:true,message:'Drawing uploaded successfully!',severity:'success'});fetchBooks();// Refresh the books list\n}catch(err){console.error('Upload error:',err);setSnackbar({open:true,message:err.message||'Error uploading drawing',severity:'error'});}};const handleCloseSnackbar=()=>{setSnackbar({...snackbar,open:false});};// Then create filtered books BEFORE the return statement\nconst filteredBooks=books.filter(book=>(searchTerm===''||book.title.toLowerCase().includes(searchTerm.toLowerCase())||book.author.toLowerCase().includes(searchTerm.toLowerCase()))&&(!selectedGenre||book.genres&&book.genres.includes(selectedGenre))&&(!selectedTag||book.tags&&book.tags.includes(selectedTag)));if(loading){return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Typography,{variant:\"h5\",sx:{mt:4},children:\"Loading books...\"})});}if(error){return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Typography,{color:\"error\",sx:{mt:4},children:error})});}return/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",sx:{mt:4},children:[/*#__PURE__*/_jsx(FilterBar,{selectedGenre:selectedGenre,onGenreSelect:setSelectedGenre,selectedTag:selectedTag,onTagSelect:setSelectedTag}),/*#__PURE__*/_jsx(Box,{sx:{mb:4},children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Search books...\",variant:\"outlined\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})}),/*#__PURE__*/_jsx(Box,{sx:{flexGrow:1},children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:4,sx:{'& .MuiGrid-item':{transition:'none'}},children:filteredBooks.map(book=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{transition:'all 0.3s ease','&:hover':{transform:'translateY(-4px)',boxShadow:6},borderRadius:'12px',overflow:'hidden',backgroundColor:'background.paper',position:'relative'},children:[/*#__PURE__*/_jsxs(Box,{onClick:()=>handleExpandBook(book._id),sx:{cursor:'pointer',position:'relative'},children:[book.drawings&&book.drawings.length>0?/*#__PURE__*/_jsx(Box,{sx:{width:'100%',height:200,overflow:'hidden',borderTopLeftRadius:4,borderTopRightRadius:4},children:/*#__PURE__*/_jsx(\"img\",{src:book.drawings.reduce((mostLiked,current)=>{var _current$likes,_mostLiked$likes;const currentLikes=((_current$likes=current.likes)===null||_current$likes===void 0?void 0:_current$likes.length)||0;const mostLikedCount=((_mostLiked$likes=mostLiked.likes)===null||_mostLiked$likes===void 0?void 0:_mostLiked$likes.length)||0;return currentLikes>mostLikedCount?current:mostLiked;},book.drawings[0]).imageUrl,alt:`Most liked drawing for ${book.title}`,style:{width:'100%',height:'100%',objectFit:'cover'}})}):/*#__PURE__*/_jsx(Box,{sx:{width:'100%',height:200,display:'flex',alignItems:'center',justifyContent:'center',bgcolor:'grey.200',borderTopLeftRadius:4,borderTopRightRadius:4},children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"No drawings yet\"})}),/*#__PURE__*/_jsx(IconButton,{sx:{position:'absolute',bottom:8,right:8,backgroundColor:'rgba(255, 255, 255, 0.9)',backdropFilter:'blur(4px)','&:hover':{backgroundColor:'rgba(255, 255, 255, 1)',transform:'scale(1.1)'},transition:'all 0.2s ease',boxShadow:'0 2px 8px rgba(0,0,0,0.1)'},children:expandedBooks[book._id]?/*#__PURE__*/_jsx(ExpandLess,{}):/*#__PURE__*/_jsx(ExpandMore,{})})]}),/*#__PURE__*/_jsxs(Box,{sx:{p:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:book.title}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",color:\"text.secondary\",gutterBottom:true,children:[\"by \",book.author]}),book.genres&&/*#__PURE__*/_jsx(Box,{sx:{mb:2,display:'flex',gap:0.5,flexWrap:'wrap'},children:book.genres.map(genre=>/*#__PURE__*/_jsx(Chip,{label:genre,size:\"small\",variant:\"outlined\",sx:{fontSize:'0.75rem',height:'24px',borderRadius:'6px',backgroundColor:'rgba(25, 118, 210, 0.08)',borderColor:'primary.main','&:hover':{backgroundColor:'rgba(25, 118, 210, 0.15)'}}},genre))}),/*#__PURE__*/_jsx(Button,{component:Link,to:`/books/${book._id}/vocabulary`,variant:\"contained\",color:\"primary\",fullWidth:true,sx:{mb:2},children:\"Vocabulary Training\"}),/*#__PURE__*/_jsx(Collapse,{in:expandedBooks[book._id],children:/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsxs(Button,{variant:\"contained\",component:\"label\",startIcon:/*#__PURE__*/_jsx(CloudUpload,{}),fullWidth:true,sx:{borderRadius:'8px',textTransform:'none',py:1.5,background:'linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)',boxShadow:'0 3px 5px 2px rgba(33, 203, 243, .3)','&:hover':{background:'linear-gradient(45deg, #2196F3 60%, #21CBF3 90%)'}},children:[\"Upload Drawing\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",hidden:true,accept:\"image/*\",onChange:e=>{if(e.target.files[0]){handleDrawingUpload(book._id,e.target.files[0],e);}}})]}),book.drawings&&book.drawings.length>0&&/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",gutterBottom:true,children:[\"Drawings (\",book.drawings.length,\")\"]}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,children:book.drawings.map((drawing,index)=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(DrawingCard,{drawing:drawing,bookId:book._id,onLikeUpdate:fetchBooks})},index))})]}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",fullWidth:true,onClick:()=>{console.log('Quiz button clicked for book:',book._id);setActiveQuizBookId(book._id);setOpenQuiz(true);console.log('Set activeQuizBookId to:',book._id);console.log('Set openQuiz to: true');},startIcon:/*#__PURE__*/_jsx(QuizIcon,{}),children:\"Take Vocabulary Quiz\"}),/*#__PURE__*/_jsxs(Dialog,{open:openQuiz&&activeQuizBookId===book._id,onClose:()=>{console.log('Dialog closing');setOpenQuiz(false);setActiveQuizBookId(null);},maxWidth:\"md\",fullWidth:true,children:[console.log('Dialog rendering with:',{openQuiz,activeQuizBookId,bookId:book._id}),/*#__PURE__*/_jsx(DialogTitle,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(Typography,{children:[\"Vocabulary Quiz - \",book.title]}),/*#__PURE__*/_jsx(IconButton,{onClick:()=>{setOpenQuiz(false);setActiveQuizBookId(null);},children:/*#__PURE__*/_jsx(CloseIcon,{})})]})}),/*#__PURE__*/_jsxs(DialogContent,{children:[console.log('DialogContent rendering, activeQuizBookId:',activeQuizBookId),/*#__PURE__*/_jsx(Box,{sx:{py:2},children:activeQuizBookId?/*#__PURE__*/_jsx(VocabularyQuiz,{bookId:activeQuizBookId}):/*#__PURE__*/_jsx(Typography,{children:\"No book ID provided\"})})]})]}),/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Add your tags (comma-separated)\",size:\"small\",value:book.tagInput||'',onChange:e=>{setBooks(books.map(b=>b._id===book._id?{...b,tagInput:e.target.value}:b));}}),/*#__PURE__*/_jsx(Button,{size:\"small\",onClick:async()=>{try{const newTags=book.tagInput.split(',').map(tag=>tag.trim()).filter(tag=>tag);await apiService.addTags(book._id,newTags);fetchBooks();// This will refresh the book list\n}catch(error){console.error('Error adding tags:',error);}},sx:{mt:1},children:\"Add Tags\"})]})]})})]})]})},book._id))})}),/*#__PURE__*/_jsx(Snackbar,{open:snackbar.open,autoHideDuration:6000,onClose:handleCloseSnackbar,anchorOrigin:{vertical:'bottom',horizontal:'center'},children:/*#__PURE__*/_jsx(Alert,{onClose:handleCloseSnackbar,severity:snackbar.severity,sx:{width:'100%'},children:snackbar.message})})]});}export default BookGallery;","map":{"version":3,"names":["React","useState","useEffect","Container","Grid","Typography","TextField","Box","Button","Paper","Snackbar","Alert","Chip","IconButton","Collapse","Dialog","DialogTitle","DialogContent","CloudUpload","ExpandMore","ExpandLess","Quiz","QuizIcon","Close","CloseIcon","DrawingCard","FilterBar","VocabularyQuiz","Link","apiService","jsx","_jsx","jsxs","_jsxs","BookGallery","books","setBooks","searchTerm","setSearchTerm","loading","setLoading","error","setError","selectedGenre","setSelectedGenre","snackbar","setSnackbar","open","message","severity","expandedBooks","setExpandedBooks","selectedTag","setSelectedTag","openQuiz","setOpenQuiz","activeQuizBookId","setActiveQuizBookId","fetchBooks","handleExpandBook","bookId","prev","data","getAllBooks","err","handleDrawingUpload","file","event","preventDefault","response","uploadDrawing","console","handleCloseSnackbar","filteredBooks","filter","book","title","toLowerCase","includes","author","genres","tags","children","variant","sx","mt","color","maxWidth","onGenreSelect","onTagSelect","mb","fullWidth","label","value","onChange","e","target","flexGrow","container","spacing","transition","map","item","xs","sm","md","elevation","transform","boxShadow","borderRadius","overflow","backgroundColor","position","onClick","_id","cursor","drawings","length","width","height","borderTopLeftRadius","borderTopRightRadius","src","reduce","mostLiked","current","_current$likes","_mostLiked$likes","currentLikes","likes","mostLikedCount","imageUrl","alt","style","objectFit","display","alignItems","justifyContent","bgcolor","bottom","right","backdropFilter","p","gutterBottom","gap","flexWrap","genre","size","fontSize","borderColor","component","to","in","startIcon","textTransform","py","background","type","hidden","accept","files","drawing","index","onLikeUpdate","log","onClose","tagInput","b","newTags","split","tag","trim","addTags","autoHideDuration","anchorOrigin","vertical","horizontal"],"sources":["/Users/BrooksCole/Documents/reading-community/frontend/src/pages/BookGallery.js"],"sourcesContent":["// frontend/src/pages/BookGallery.js\nimport React, { useState, useEffect } from 'react';\nimport { \n  Container, \n  Grid, \n  Typography, \n  TextField, \n  Box,\n  Button,\n  Paper,\n  Snackbar,\n  Alert,\n  Chip,\n  IconButton,\n  Collapse,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n} from '@mui/material';\nimport { \n  CloudUpload,\n  ExpandMore,\n  ExpandLess,\n  Quiz as QuizIcon,\n  Close as CloseIcon,\n} from '@mui/icons-material';\nimport DrawingCard from '../components/DrawingCard';\nimport FilterBar from '../components/FilterBar';\nimport VocabularyQuiz from '../components/vocabulary/VocabularyQuiz';\n//import DebugQuiz from './debug-quiz';\nimport { Link } from 'react-router-dom';\nimport apiService from '../services/apiService';\n\n\nfunction BookGallery() {\n  // State declarations (unchanged)\n  const [books, setBooks] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [selectedGenre, setSelectedGenre] = useState(null);\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: '',\n    severity: 'success'\n  });\n  const [expandedBooks, setExpandedBooks] = useState({});\n  const [selectedTag, setSelectedTag] = useState(null);\n  const [openQuiz, setOpenQuiz] = useState(false);\n  const [activeQuizBookId, setActiveQuizBookId] = useState(null);\n  //const [openBookDialog, setOpenBookDialog] = useState(false);\n  \n\n  // Effects and handlers (unchanged)\n  useEffect(() => {\n    fetchBooks();\n  }, []);\n\n  // Your existing handler functions remain the same\n  const handleExpandBook = (bookId) => {\n    setExpandedBooks(prev => ({\n      ...prev,\n      [bookId]: !prev[bookId]\n    }));\n  };\n\n  const fetchBooks = async () => {\n    try {\n      const data = await apiService.getAllBooks();\n      setBooks(data);\n      setLoading(false);\n    } catch (err) {\n      setError('Failed to load books');\n      setLoading(false);\n    }\n  };\n\n  const handleDrawingUpload = async (bookId, file, event) => {\n    event.preventDefault();\n  \n    try {\n      const response = await apiService.uploadDrawing(bookId, file);\n      setSnackbar({\n        open: true,\n        message: 'Drawing uploaded successfully!',\n        severity: 'success'\n      });\n      fetchBooks(); // Refresh the books list\n    } catch (err) {\n      console.error('Upload error:', err);\n      setSnackbar({\n        open: true,\n        message: err.message || 'Error uploading drawing',\n        severity: 'error'\n      });\n    }\n  };\n\n  const handleCloseSnackbar = () => {\n    setSnackbar({ ...snackbar, open: false });\n  };\n\n  // Then create filtered books BEFORE the return statement\n  const filteredBooks = books.filter(book => \n    (searchTerm === '' || \n      book.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      book.author.toLowerCase().includes(searchTerm.toLowerCase())\n    ) &&\n    (!selectedGenre || (book.genres && book.genres.includes(selectedGenre))) &&\n    (!selectedTag || (book.tags && book.tags.includes(selectedTag)))\n  );\n\n  if (loading) {\n    return (\n      <Container>\n        <Typography variant=\"h5\" sx={{ mt: 4 }}>Loading books...</Typography>\n      </Container>\n    );\n  }\n  \n  if (error) {\n    return (\n      <Container>\n        <Typography color=\"error\" sx={{ mt: 4 }}>{error}</Typography>\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"lg\" sx={{ mt: 4 }}>\n      <FilterBar\n        selectedGenre={selectedGenre}\n        onGenreSelect={setSelectedGenre}\n        selectedTag={selectedTag}\n        onTagSelect={setSelectedTag}\n      />\n      \n      <Box sx={{ mb: 4 }}>\n        <TextField\n          fullWidth\n          label=\"Search books...\"\n          variant=\"outlined\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n        />\n      </Box>\n\n      <Box sx={{ flexGrow: 1 }}>\n        <Grid \n          container \n          spacing={4}\n          sx={{\n            '& .MuiGrid-item': {\n              transition: 'none',\n            }\n          }}\n        >\n          {filteredBooks.map((book) => (\n            <Grid item xs={12} sm={6} md={4} key={book._id}>\n              <Paper \n                elevation={3} \n                sx={{ \n                  transition: 'all 0.3s ease',\n                  '&:hover': {\n                    transform: 'translateY(-4px)',\n                    boxShadow: 6\n                  },\n                  borderRadius: '12px',\n                  overflow: 'hidden',\n                  backgroundColor: 'background.paper',\n                  position: 'relative'\n                }}\n              >\n                {/* Cover Image / Most Liked Drawing */}\n                <Box\n                  onClick={() => handleExpandBook(book._id)}\n                  sx={{ \n                    cursor: 'pointer',\n                    position: 'relative'\n                  }}\n                >\n                  {book.drawings && book.drawings.length > 0 ? (\n                    <Box sx={{ \n                      width: '100%', \n                      height: 200, \n                      overflow: 'hidden',\n                      borderTopLeftRadius: 4,\n                      borderTopRightRadius: 4\n                    }}>\n                      <img\n                        src={book.drawings.reduce((mostLiked, current) => {\n                          const currentLikes = current.likes?.length || 0;\n                          const mostLikedCount = mostLiked.likes?.length || 0;\n                          return currentLikes > mostLikedCount ? current : mostLiked;\n                        }, book.drawings[0]).imageUrl}\n                        alt={`Most liked drawing for ${book.title}`}\n                        style={{\n                          width: '100%',\n                          height: '100%',\n                          objectFit: 'cover'\n                        }}\n                      />\n                    </Box>\n                  ) : (\n                    <Box sx={{\n                      width: '100%',\n                      height: 200,\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      bgcolor: 'grey.200',\n                      borderTopLeftRadius: 4,\n                      borderTopRightRadius: 4\n                    }}>\n                      <Typography variant=\"body2\" color=\"text.secondary\">\n                        No drawings yet\n                      </Typography>\n                    </Box>\n                  )}\n                  \n                  {/* Expand/Collapse Indicator */}\n                  <IconButton \n                    sx={{ \n                      position: 'absolute', \n                      bottom: 8, \n                      right: 8,\n                      backgroundColor: 'rgba(255, 255, 255, 0.9)',\n                      backdropFilter: 'blur(4px)',\n                      '&:hover': {\n                        backgroundColor: 'rgba(255, 255, 255, 1)',\n                        transform: 'scale(1.1)'\n                      },\n                      transition: 'all 0.2s ease',\n                      boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\n                    }}\n                  >\n                    {expandedBooks[book._id] ? <ExpandLess /> : <ExpandMore />}\n                  </IconButton>\n                </Box>\n          \n                <Box sx={{ p: 3 }}>\n                  <Typography variant=\"h5\" gutterBottom>\n                    {book.title}\n                  </Typography>\n                  <Typography variant=\"subtitle1\" color=\"text.secondary\" gutterBottom>\n                    by {book.author}\n                  </Typography>\n                  \n                  {/* Genres and Age Range */}\n                  {book.genres && (\n                    <Box sx={{ mb: 2, display: 'flex', gap: 0.5, flexWrap: 'wrap' }}>\n                      {book.genres.map((genre) => (\n                        <Chip\n                          key={genre}\n                          label={genre}\n                          size=\"small\"\n                          variant=\"outlined\"\n                          sx={{\n                            fontSize: '0.75rem',\n                            height: '24px',\n                            borderRadius: '6px',\n                            backgroundColor: 'rgba(25, 118, 210, 0.08)',\n                            borderColor: 'primary.main',\n                            '&:hover': {\n                              backgroundColor: 'rgba(25, 118, 210, 0.15)',\n                            }\n                          }}\n                        />\n                      ))}\n                    </Box>\n                  )}\n\n                  {/* Vocabulary Training Button */}\n                  <Button \n                    component={Link} \n                    to={`/books/${book._id}/vocabulary`}\n                    variant=\"contained\"\n                    color=\"primary\"\n                    fullWidth\n                    sx={{ mb: 2 }}\n                  >\n                    Vocabulary Training\n                  </Button>\n          \n                  {/* Expanded Content */}\n                  <Collapse in={expandedBooks[book._id]}>\n                    <Box sx={{ mt: 2 }}>\n                      {/* Drawing Upload Button */}\n                      <Button\n                        variant=\"contained\"\n                        component=\"label\"\n                        startIcon={<CloudUpload />}\n                        fullWidth\n                        sx={{\n                          borderRadius: '8px',\n                          textTransform: 'none',\n                          py: 1.5,\n                          background: 'linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)',\n                          boxShadow: '0 3px 5px 2px rgba(33, 203, 243, .3)',\n                          '&:hover': {\n                            background: 'linear-gradient(45deg, #2196F3 60%, #21CBF3 90%)',\n                          }\n                        }}\n                      >\n                        Upload Drawing\n                        <input\n                          type=\"file\"\n                          hidden\n                          accept=\"image/*\"\n                          onChange={(e) => {\n                            if (e.target.files[0]) {\n                              handleDrawingUpload(book._id, e.target.files[0], e);\n                            }\n                          }}\n                        />\n                      </Button>\n\n                      {/* Drawings Grid */}\n                      {book.drawings && book.drawings.length > 0 && (\n                        <Box sx={{ mt: 2 }}>\n                          <Typography variant=\"h6\" gutterBottom>\n                            Drawings ({book.drawings.length})\n                          </Typography>\n                          <Grid container spacing={1}>\n                            {book.drawings.map((drawing, index) => (\n                              <Grid item xs={12} key={index}>\n                                <DrawingCard\n                                  drawing={drawing}\n                                  bookId={book._id}\n                                  onLikeUpdate={fetchBooks}\n                                />\n                              </Grid>\n                            ))}\n                          </Grid>\n                        </Box>\n                      )}\n\n                      {/* Vocabulary Quiz Button: */}\n                      \n                      <Button\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        fullWidth\n                        onClick={() => {\n                          console.log('Quiz button clicked for book:', book._id);\n                          setActiveQuizBookId(book._id);\n                          setOpenQuiz(true);\n                          console.log('Set activeQuizBookId to:', book._id);\n                          console.log('Set openQuiz to: true');\n                        }}\n                        startIcon={<QuizIcon />}\n                      >\n                        Take Vocabulary Quiz\n                      </Button>\n                      \n                      {/* Quiz Dialog */}\n                      <Dialog \n                        open={openQuiz && activeQuizBookId === book._id} \n                        onClose={() => {\n                          console.log('Dialog closing');\n                          setOpenQuiz(false);\n                          setActiveQuizBookId(null);\n                        }}\n                        maxWidth=\"md\"\n                        fullWidth\n                      >\n                        {console.log('Dialog rendering with:', { openQuiz, activeQuizBookId, bookId: book._id })}\n                        <DialogTitle>\n                          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                            <Typography>Vocabulary Quiz - {book.title}</Typography>\n                            <IconButton\n                              onClick={() => {\n                                setOpenQuiz(false);\n                                setActiveQuizBookId(null);\n                              }}\n                            >\n                              <CloseIcon />\n                            </IconButton>\n                          </Box>\n                        </DialogTitle>\n                        <DialogContent>\n                          {console.log('DialogContent rendering, activeQuizBookId:', activeQuizBookId)}\n                          <Box sx={{ py: 2 }}>\n                            {activeQuizBookId ? (\n                              <VocabularyQuiz bookId={activeQuizBookId} />\n                            ) : (\n                              <Typography>No book ID provided</Typography>\n                            )}\n                          </Box>\n                        </DialogContent>\n                      </Dialog>\n\n\n\n                      {/* Tags Section */}\n                      <Box sx={{ mt: 2 }}>\n                        <TextField\n                          fullWidth\n                          label=\"Add your tags (comma-separated)\"\n                          size=\"small\"\n                          value={book.tagInput || ''}\n                          onChange={(e) => {\n                            setBooks(books.map(b => \n                              b._id === book._id \n                                ? { ...b, tagInput: e.target.value }\n                                : b\n                            ));\n                          }}\n                        />\n                        <Button\n                          size=\"small\"\n                          onClick={async () => {\n                            try {\n                              const newTags = book.tagInput\n                                .split(',')\n                                .map(tag => tag.trim())\n                                .filter(tag => tag);\n                          \n                              await apiService.addTags(book._id, newTags);\n                              fetchBooks(); // This will refresh the book list\n                            } catch (error) {\n                              console.error('Error adding tags:', error);\n                            }\n                          }}\n                          sx={{ mt: 1 }}\n                        >\n                          Add Tags\n                        </Button>\n                      </Box>\n                    </Box>\n                  </Collapse>\n                </Box>\n              </Paper>\n            </Grid>\n          ))}\n        </Grid>\n      </Box>\n\n      <Snackbar \n        open={snackbar.open} \n        autoHideDuration={6000} \n        onClose={handleCloseSnackbar}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n      >\n        <Alert \n          onClose={handleCloseSnackbar} \n          severity={snackbar.severity}\n          sx={{ width: '100%' }}\n        >\n          {snackbar.message}\n        </Alert>\n      </Snackbar>\n    </Container>\n  );\n}\n\nexport default BookGallery;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}